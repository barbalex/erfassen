{"version":3,"sources":["webpack:///./src/utils/createRxDb.ts","webpack:///./src/state/RxDb.ts","webpack:///./src/pages/Projekte/index.tsx","webpack:///./src/state/withRxDb.js","webpack:///./src/components/ErrorBoundary.tsx","webpack:///./src/utils/couchUrl.ts","webpack:///./src/state/AuthDb.ts","webpack:///./src/state/withAuthDb.js","webpack:///./src/components/Header/Signup.tsx","webpack:///./src/components/Header/Login.tsx","webpack:///./src/components/Header/Account.tsx","webpack:///./src/components/Header/index.tsx","webpack:///./src/components/Layout.tsx"],"names":["rxdb","plugin","pouchdbAdapterHttp","pouchdbAdapterIdb","createRxDb","asyncToGenerator_default","regenerator_default","a","mark","_callee","db","wrap","_context","prev","next","create","name","adapter","queryChangeDetection","sent","t0","collection","schema","messageSchema","zeitSchema","ortSchema","ort","sync","remote","options","live","retry","query","find","where","eq","beobSchema","beob","abrupt","stop","this","RxDbContainer","props","_this","_Container","call","rxDb","window","state","then","setState","catch","error","setRxDb","Container","styled","div","withConfig","displayName","componentId","LoadingContainer","ReflexContainer","OrigReflexContainer","enhance","compose","WrappedComponent","react_default","createElement","unstated_es","to","RxDbState","value","Object","assign","rxDbState","_ref","ErrorBoundary","Layout","orientation","es","flex","propagateDimensions","renderOnResizeRate","renderOnResize","onClick","insert","type","_callee2","_context2","art","ErrorTitle","ReloadButton","Button","_Component","errorInfo","componentDidCatch","render","_this2","console","log","react__WEBPACK_IMPORTED_MODULE_3___default","componentStack","variant","location","reload","children","React","Children","map","child","cloneElement","Component","couchUrl","isLocalhost","hostname","replace","PouchDB","pouchdbAuthentication","AuthDbContainer","authDb","getSession","resp","get","setAuthDb","setName","withAuthDb","AuthDbState","authDbState","StyledDialog","Dialog","StyledDiv","StyledInput","Input","withAuthDbState","withState","withHandlers","close","setSignupOpen","onClickSignup","_ref2","email","password","signUpResponce","logInResponce","signUp","logIn","t1","onToggleShowPass","_ref4","showPass","setShowPass","onBlurEmail","_ref5","setEmail","event","target","onBlurPassword","_ref6","setPassword","_ref7","emailErrorText","passwordErrorText","setEmailErrorText","setPasswordErrorText","open","user","aria-labelledby","DialogTitle_default","id","FormControl_default","fullWidth","aria-describedby","InputLabel_default","htmlFor","defaultValue","onBlur","autoFocus","onKeyPress","e","key","FormHelperText_default","autoComplete","autoCorrect","spellCheck","endAdornment","InputAdornment_default","position","IconButton_default","onMouseDown","preventDefault","title","md","DialogActions_default","Button_default","color","setLoginOpen","onClickLogin","Login_StyledDialog","Login_StyledDiv","Login_StyledInput","IconContainer","UserNameDiv","onClickMenu","setAnchorEl","currentTarget","onCloseMenu","_ref3","signupOpen","loginOpen","anchorEl","Fragment","aria-haspopup","aria-label","fa","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","onClose","MenuItem_default","Header_Signup","Header_Login","SiteTitle","Typography","Spacer","NavButton","active","onClickSiteTitle","navigate","pathname","AppBar_default","Toolbar_default","noWrap","component","Link","toString","Header_Account","gatsby_browser_entry","data","Helmet_default","site","siteMetadata","meta","content","lang","components_Header","_4130953669"],"mappings":"gUAUAA,IAAKC,OAAOC,KACZF,IAAKC,OAAOE,KAEZ,IAAAC,EAAAC,GAAA,CAAAC,EAAAC,EAAAC,KAAe,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGAd,IAAKe,OAAO,CACrBC,KAAM,WACNC,QAAS,MACTC,sBAAsB,IANb,OAGXR,EAHWE,EAAAO,KAAAP,EAAAE,KAAA,qBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAAAA,EAAAQ,GAAA,cAAAR,EAAAE,KAAA,GAiBPJ,EAAGW,WAAW,CAClBL,KAAM,UACNM,OAAQC,IAnBG,eAAAX,EAAAE,KAAA,GAqBPJ,EAAGW,WAAW,CAClBL,KAAM,OACNM,OAAQE,IAvBG,eAAAZ,EAAAE,KAAA,GAyBPJ,EAAGW,WAAW,CAClBL,KAAM,MACNM,OAAQG,IA3BG,eA6Bbf,EAAGgB,IAAIC,KAAK,CACVC,OAAQ,kCACRC,QAAS,CACPC,MAAM,EACNC,OAAO,GAETC,MAAOtB,EAAGgB,IACPO,OACAC,MAAM,QACNC,GAAG,SAtCKvB,EAAAE,KAAA,GAwCPJ,EAAGW,WAAW,CAClBL,KAAM,OACNM,OAAQc,IA1CG,eA4Cb1B,EAAG2B,KAAKV,KAAK,CACXC,OAAQ,kCACRC,QAAS,CACPC,MAAM,EACNC,OAAO,GAETC,MAAOtB,EAAG2B,KACPJ,OACAC,MAAM,QACNC,GAAG,UArDKvB,EAAA0B,OAAA,SAwDN5B,GAxDM,yBAAAE,EAAA2B,SAAA9B,EAAA+B,KAAA,YCMMC,cACnB,SAAAA,EAAYC,GAAc,IAAAC,EACxBA,EAAAC,EAAAC,KAAAL,YACA,IAAMM,EAAyB,oBAAXC,OAAyB,KAAOA,OAAOD,MAAQ,KAF3C,OAGxBH,EAAKK,MAAQ,CACXF,SAImB,oBAAXC,SAA2BA,OAAOD,MACxB,oBAAXC,SAEP3C,IACG6C,KAAK,SAACH,GACLH,EAAKO,SAAS,SAAAF,GAAK,MAAK,CAAEF,UACJ,oBAAXC,SAAwBA,OAAOD,KAAOA,KAElDK,MAAM,SAAAC,GACL,MAAMA,IAjBYT,8BAsB1BU,iBAAQP,GACNN,KAAKU,SAAS,SAAAF,GAAK,MAAK,CAAEF,cAxBaQ,kBCLrCA,EAAYC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,sBAAAC,YAAA,YAAGJ,CAAH,oDAITK,EAAmBL,YAAOD,GAAVG,WAAA,CAAAC,YAAA,6BAAAC,YAAA,YAAGJ,CAAH,mBAGhBM,EAAkBN,YAAOO,KAAVL,WAAA,CAAAC,YAAA,4BAAAC,YAAA,YAAGJ,CAAH,2CAQfQ,EAAUC,ICnBD,SAAuBC,GACpC,OAAO,SAAAvB,GAAK,OACVwB,EAAA3D,EAAA4D,cAACC,EAAA,EAAD,CAAWC,GAAI,CAACC,IACb,SAAAC,GAAK,OAAIL,EAAA3D,EAAA4D,cAACF,EAADO,OAAAC,OAAA,CAAkBC,UAAWH,GAAW7B,SDoFzCqB,YAlEwB,SAAAY,GAAmB,IAChD7B,EADgD6B,EAAhBD,UACb1B,MAAnBF,KACR,OAAKA,EAiBHoB,EAAA3D,EAAA4D,cAACS,EAAA,EAAD,KACEV,EAAA3D,EAAA4D,cAACU,EAAA,EAAD,KACEX,EAAA3D,EAAA4D,cAACb,EAAD,KACEY,EAAA3D,EAAA4D,cAACN,EAAD,CAAiBiB,YAAY,YAC3BZ,EAAA3D,EAAA4D,cAACY,EAAA,EAAD,CACEC,KAAM,GACNC,qBAAqB,EACrBC,mBAAoB,IACpBC,gBAAgB,GAEhBjB,EAAA3D,EAAA4D,cAAA,kBAEFD,EAAA3D,EAAA4D,cAACY,EAAA,EAAD,MACAb,EAAA3D,EAAA4D,cAACY,EAAA,EAAD,CACEE,qBAAqB,EACrBC,mBAAoB,IACpBC,gBAAgB,GAEhBjB,EAAA3D,EAAA4D,cAAA,iBACAD,EAAA3D,EAAA4D,cAAA,UACEiB,QAAO/E,IAAAC,EAAAC,EAAAC,KAAE,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAA0B,OAAA,SACPQ,EAAKpB,IAAI2D,OAAO,CACdrE,KAAM,WACNsE,KAAM,SAHD,wBAAA1E,EAAA2B,SAAA9B,EAAA+B,UADX,cAUA0B,EAAA3D,EAAA4D,cAAA,UACEiB,QAAO/E,IAAAC,EAAAC,EAAAC,KAAE,SAAA+E,IAAA,OAAAjF,EAAAC,EAAAI,KAAA,SAAA6E,GAAA,cAAAA,EAAA3E,KAAA2E,EAAA1E,MAAA,cAAA0E,EAAAlD,OAAA,SACPQ,EAAKT,KAAKgD,OAAO,CACfI,IAAK,WACLH,KAAM,UAHD,wBAAAE,EAAAjD,SAAAgD,EAAA/C,UADX,oBA5CR0B,EAAA3D,EAAA4D,cAACU,EAAA,EAAD,KACEX,EAAA3D,EAAA4D,cAACP,EAAD,qIE/BFN,EAAYC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,2BAAAC,YAAA,gBAAGJ,CAAH,kBAGTmC,EAAanC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,4BAAAC,YAAA,gBAAGJ,CAAH,yBAGVoC,EAAepC,YAAOqC,KAAVnC,WAAA,CAAAC,YAAA,8BAAAC,YAAA,gBAAGJ,CAAH,iCAUZqB,cACJ,SAAAA,EAAYlC,GAAc,IAAAC,EAAA,OACxBA,EAAAkD,EAAAhD,KAAAL,KAAME,IAANF,MACKQ,MAAQ,CAAEI,MAAO,KAAM0C,UAAW,MAFfnD,sCAK1BoD,2BAAkB3C,EAAc0C,GAE9BtD,KAAKU,SAAS,CACZE,MAAOA,EACP0C,UAAWA,OAIfE,kBAAS,IAAAC,EAAAzD,KACCsD,EAActD,KAAKQ,MAAnB8C,UACR,GAAIA,EAEF,OADAI,QAAQC,IAAI,aAAcL,GAExBM,EAAA7F,EAAA4D,cAACb,EAAD,KACE8C,EAAA7F,EAAA4D,cAACuB,EAAD,uDAGAU,EAAA7F,EAAA4D,cAAA,WAAM2B,EAAUO,gBAChBD,EAAA7F,EAAA4D,cAACwB,EAAD,CACEW,QAAQ,WACRlB,QAAS,WACW,oBAAXrC,QAA0BA,OAAOwD,SAASC,QAAO,KAH5D,cAVC,IAqBCC,EAAajE,KAAKE,MAAlB+D,SAOR,OANwBC,IAAMC,SAASC,IAAIH,EAAU,SAAAI,GAAK,OACxDH,IAAMI,aAAaD,EAAnBrC,OAAAC,OAAA,GAA+BwB,EAAKvD,cArCAqE,aA8C3BnC,imBClEAoC,UAAA,WACb,GAAsB,oBAAXjE,OACT,MAAO,oCAET,IAIMkE,EAA8C,cAJjBlE,OAAOwD,SAASW,SAASC,QAC1D,OACA,IAGID,EAAWD,EAAc,YAAclE,OAAOwD,SAASW,SAK7D,OAJyBD,EAAW,UACtBC,EADsB,uDCJtCE,KAAQnH,OAAOoH,UAYMC,eACnB,SAAAA,EAAY5E,GAAmB,IAAAC,EAC7BA,EAAAC,EAAAC,KAAAL,YACA,IAAM+E,EAAS,IAAIH,KAAQJ,MAFE,OAG7BrE,EAAKK,MAAQ,CACXuE,SACAvG,KAAM,MAGRuG,EACGC,aACAvE,KAAK,SAACwE,GACL,IAAMzG,EAAO0G,KAAID,EAAM,eAAgB,MACnCzG,GAAM2B,EAAKO,SAAS,SAAAF,GAAK,MAAK,CAAEhC,YAErCmC,MAAM,SAACC,GACN,MAAMA,IAfmBT,uCAmB/BgF,mBAAUJ,GACR/E,KAAKU,SAAS,SAAAF,GAAK,MAAK,CAAEuE,eAG5BK,iBAAQ5G,GACNwB,KAAKU,SAAS,SAAAF,GAAK,MAAK,CAAEhC,cAzBesC,MCT9BuE,GAAA,SAAA5D,GAAgB,OAAI,SAAAvB,GAAK,OACtCwB,EAAA3D,EAAA4D,cAACC,GAAA,EAAD,CAAWC,GAAI,CAACyD,KACb,SAAAvD,GAAK,OAAIL,EAAA3D,EAAA4D,cAACF,EAADO,OAAAC,OAAA,CAAkBsD,YAAaxD,GAAW7B,QCUlDsF,GAAezE,YAAO0E,KAAVxE,WAAA,CAAAC,YAAA,uBAAAC,YAAA,gBAAGJ,CAAH,MACZ2E,GAAY3E,IAAOC,IAAVC,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,wDAKT4E,GAAc5E,YAAO6E,KAAV3E,WAAA,CAAAC,YAAA,sBAAAC,YAAA,gBAAGJ,CAAH,+DAuLFQ,GAjLCC,IACdqE,GACAC,IAAU,QAAS,WAAY,IAC/BA,IAAU,WAAY,cAAe,IACrCA,IAAU,WAAY,eAAe,GACrCA,IAAU,iBAAkB,oBAAqB,IACjDA,IAAU,oBAAqB,uBAAwB,IACvDC,IAAuB,CACrBC,MAAO,SAAA7D,GAAA,IACL8D,EADK9D,EACL8D,cADK,OAID,kBAAMA,GAAc,KAC1BC,cAAe,SAAAC,GAAA,IACbC,EADaD,EACbC,MACAC,EAFaF,EAEbE,SACAd,EAHaY,EAGbZ,YACAU,EAJaE,EAIbF,cAJa,OAAApI,GAAA,CAAAC,EAAAC,EAAAC,KAUT,SAAAC,IAAA,IAAAqI,EAAAC,EAAA,OAAAzI,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGqBiH,EAAY/E,MAAMuE,OAAOyB,OAAOJ,EAAOC,GAH5D,OAGFC,EAHElI,EAAAO,KAAAP,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAKFsF,QAAQC,IAAI,4BAAZvF,EAAAQ,IALE,cAOJ8E,QAAQC,IAAI,qCAAsC2C,GAP9ClI,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAWoBiH,EAAY/E,MAAMuE,OAAO0B,MAAML,EAAOC,GAX1D,QAWFE,EAXEnI,EAAAO,KAAAP,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAsI,GAAAtI,EAAA,UAaiB,iBAAfA,EAAAsI,GAAMlI,MAA2BJ,EAAAsI,GAAMlI,KAK3CkF,QAAQC,IAAI,4BAAZvF,EAAAsI,IAlBE,QAoBJhD,QAAQC,IAAI,oCAAqC4C,GACjDhB,EAAYH,QAAQgB,GACpBH,GAAc,GAtBV,yBAAA7H,EAAA2B,SAAA9B,EAAA+B,KAAA,qBAwBN2G,iBAAkB,SAAAC,GAAA,IAChBC,EADgBD,EAChBC,SACAC,EAFgBF,EAEhBE,YAFgB,OAMZ,WACJA,GAAaD,OAGjBd,IAAuB,CACrBgB,YAAa,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAH,OAAyD,SACpEC,GADoE,OAEjED,EAASC,EAAMC,OAAOpF,SAC3BqF,eAAgB,SAAAC,GAAA,IACdC,EADcD,EACdC,YADc,OAIV,SAACJ,GAAD,OAAkBI,EAAYJ,EAAMC,OAAOpF,WAgHtCR,CA5GA,SAAAgG,GAAA,IACbnB,EADamB,EACbnB,MACAC,EAFakB,EAEblB,SACAQ,EAHaU,EAGbV,SAEAW,GALaD,EAIbT,YAJaS,EAKbC,gBACAC,EANaF,EAMbE,kBAGAV,GATaQ,EAObG,kBAPaH,EAQbI,qBARaJ,EASbR,aACAK,EAVaG,EAUbH,eACAlB,EAXaqB,EAWbrB,cAEA0B,GAbaL,EAYbM,KAZaN,EAabK,MAEA5B,GAfauB,EAcbtB,cAdasB,EAebvB,OACAW,EAhBaY,EAgBbZ,iBAhBaY,EAiBbrJ,GAjBa,OAuCbwD,EAAA3D,EAAA4D,cAACS,EAAA,EAAD,KACEV,EAAA3D,EAAA4D,cAAC6D,GAAD,CAAcsC,kBAAgB,eAAeF,KAAMA,GACjDlG,EAAA3D,EAAA4D,cAACoG,EAAAhK,EAAD,CAAaiK,GAAG,gBAAhB,aACAtG,EAAA3D,EAAA4D,cAAC+D,GAAD,KACEhE,EAAA3D,EAAA4D,cAACsG,EAAAlK,EAAD,CACE6C,QAAS4G,EACTU,WAAS,EACTC,mBAAiB,eAEjBzG,EAAA3D,EAAA4D,cAACyG,EAAArK,EAAD,CAAYsK,QAAQ,SAApB,SACA3G,EAAA3D,EAAA4D,cAACgE,GAAD,CACEqC,GAAG,QACHM,aAAclC,EACdmC,OAAQxB,EACRyB,WAAS,EACTC,WAAY,SAAAC,GACI,UAAVA,EAAEC,KACJ5B,OAINrF,EAAA3D,EAAA4D,cAACiH,EAAA7K,EAAD,CAAgBiK,GAAG,eAAeR,IAEpC9F,EAAA3D,EAAA4D,cAACsG,EAAAlK,EAAD,CACE6C,QAAS6G,EACTS,WAAS,EACTC,mBAAiB,kBAEjBzG,EAAA3D,EAAA4D,cAACyG,EAAArK,EAAD,CAAYsK,QAAQ,YAApB,YACA3G,EAAA3D,EAAA4D,cAACgE,GAAD,CACEqC,GAAG,WACHlF,KAAM+D,EAAW,OAAS,WAC1ByB,aAAcjC,EACdkC,OAAQnB,EACRqB,WAAY,SAAAC,GACI,UAAVA,EAAEC,KACJvB,KAGJyB,aAAa,mBACbC,YAAY,MACZC,WAAW,QACXC,aACEtH,EAAA3D,EAAA4D,cAACsH,EAAAlL,EAAD,CAAgBmL,SAAS,OACvBxH,EAAA3D,EAAA4D,cAACwH,EAAApL,EAAD,CACE6E,QAAS+D,EACTyC,YAAa,SAAAV,GAAC,OAAIA,EAAEW,kBACpBC,MAAOzC,EAAW,aAAe,YAEhCA,EAAWnF,EAAA3D,EAAA4D,cAAC4H,EAAA,EAAD,MAAsB7H,EAAA3D,EAAA4D,cAAC4H,EAAA,EAAD,UAK1C7H,EAAA3D,EAAA4D,cAACiH,EAAA7K,EAAD,CAAgBiK,GAAG,kBAChBP,KAIP/F,EAAA3D,EAAA4D,cAAC6H,EAAAzL,EAAD,KACE2D,EAAA3D,EAAA4D,cAAC8H,EAAA1L,EAAD,CAAQ6E,QAASoD,GAAjB,aACAtE,EAAA3D,EAAA4D,cAAC8H,EAAA1L,EAAD,CAAQ2L,MAAM,UAAU9G,QAASsD,GAAjC,wBCrLFV,GAAezE,YAAO0E,KAAVxE,WAAA,CAAAC,YAAA,sBAAAC,YAAA,YAAGJ,CAAH,MACZ2E,GAAY3E,IAAOC,IAAVC,WAAA,CAAAC,YAAA,mBAAAC,YAAA,YAAGJ,CAAH,wDAKT4E,GAAc5E,YAAO6E,KAAV3E,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,+DAgLFQ,GA1KCC,IACdqE,GACAC,IAAU,QAAS,WAAY,IAC/BA,IAAU,WAAY,cAAe,IACrCA,IAAU,WAAY,eAAe,GACrCA,IAAU,iBAAkB,oBAAqB,IACjDA,IAAU,oBAAqB,uBAAwB,IACvDC,IAAuB,CACrBC,MAAO,SAAA7D,GAAA,IACLwH,EADKxH,EACLwH,aADK,OAID,kBAAMA,GAAa,KACzBC,aAAc,SAAAzD,GAAA,IACZC,EADYD,EACZC,MACAC,EAFYF,EAEZE,SACAd,EAHYY,EAGZZ,YACAoE,EAJYxD,EAIZwD,aAJY,OAAA9L,GAAA,CAAAC,EAAAC,EAAAC,KAUR,SAAAC,IAAA,IAAAsI,EAAA,OAAAzI,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGoBiH,EAAY/E,MAAMuE,OAAO0B,MAAML,EAAOC,GAH1D,OAGFE,EAHEnI,EAAAO,KAAAP,EAAAE,KAAA,sBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAKiB,iBAAfA,EAAAQ,GAAMJ,MAA2BJ,EAAAQ,GAAMJ,KAK3CkF,QAAQC,IAAI,2BAAZvF,EAAAQ,IAVER,EAAAQ,GAAA,QAaJ8E,QAAQC,IAAI,mCAAoC4C,GAChDhB,EAAYH,QAAQgB,GACpBuD,GAAa,GAfT,yBAAAvL,EAAA2B,SAAA9B,EAAA+B,KAAA,aAiBN2G,iBAAkB,SAAAC,GAAA,IAChBC,EADgBD,EAChBC,SACAC,EAFgBF,EAEhBE,YAFgB,OAMZ,WACJA,GAAaD,OAGjBd,IAAuB,CACrBgB,YAAa,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAH,OAAyD,SACpEC,GADoE,OAEjED,EAASC,EAAMC,OAAOpF,SAC3BqF,eAAgB,SAAAC,GAAA,IACdC,EADcD,EACdC,YADc,OAIV,SAACJ,GAAD,OAAkBI,EAAYJ,EAAMC,OAAOpF,WAgHtCR,CA5GD,SAAAgG,GAAA,IACZnB,EADYmB,EACZnB,MACAC,EAFYkB,EAEZlB,SACAQ,EAHYU,EAGZV,SAEAW,GALYD,EAIZT,YAJYS,EAKZC,gBACAC,EANYF,EAMZE,kBAGAV,GATYQ,EAOZG,kBAPYH,EAQZI,qBARYJ,EASZR,aACAK,EAVYG,EAUZH,eACAwC,EAXYrC,EAWZqC,aAEAhC,GAbYL,EAYZM,KAZYN,EAaZK,MAEA5B,GAfYuB,EAcZoC,aAdYpC,EAeZvB,OACAW,EAhBYY,EAgBZZ,iBAhBYY,EAiBZrJ,GAjBY,OAuCZwD,EAAA3D,EAAA4D,cAACS,EAAA,EAAD,KACEV,EAAA3D,EAAA4D,cAACkI,GAAD,CAAc/B,kBAAgB,eAAeF,KAAMA,GACjDlG,EAAA3D,EAAA4D,cAACoG,EAAAhK,EAAD,CAAaiK,GAAG,gBAAhB,aACAtG,EAAA3D,EAAA4D,cAACmI,GAAD,KACEpI,EAAA3D,EAAA4D,cAACsG,EAAAlK,EAAD,CACE6C,QAAS4G,EACTU,WAAS,EACTC,mBAAiB,eAEjBzG,EAAA3D,EAAA4D,cAACyG,EAAArK,EAAD,CAAYsK,QAAQ,SAApB,SACA3G,EAAA3D,EAAA4D,cAACoI,GAAD,CACE/B,GAAG,QACHM,aAAclC,EACdmC,OAAQxB,EACRyB,WAAS,EACTC,WAAY,SAAAC,GACI,UAAVA,EAAEC,KACJ5B,OAINrF,EAAA3D,EAAA4D,cAACiH,EAAA7K,EAAD,CAAgBiK,GAAG,eAAeR,IAEpC9F,EAAA3D,EAAA4D,cAACsG,EAAAlK,EAAD,CACE6C,QAAS6G,EACTS,WAAS,EACTC,mBAAiB,kBAEjBzG,EAAA3D,EAAA4D,cAACyG,EAAArK,EAAD,CAAYsK,QAAQ,YAApB,YACA3G,EAAA3D,EAAA4D,cAACoI,GAAD,CACE/B,GAAG,WACHlF,KAAM+D,EAAW,OAAS,WAC1ByB,aAAcjC,EACdkC,OAAQnB,EACRqB,WAAY,SAAAC,GACI,UAAVA,EAAEC,KACJvB,KAGJyB,aAAa,mBACbC,YAAY,MACZC,WAAW,QACXC,aACEtH,EAAA3D,EAAA4D,cAACsH,EAAAlL,EAAD,CAAgBmL,SAAS,OACvBxH,EAAA3D,EAAA4D,cAACwH,EAAApL,EAAD,CACE6E,QAAS+D,EACTyC,YAAa,SAAAV,GAAC,OAAIA,EAAEW,kBACpBC,MAAOzC,EAAW,aAAe,YAEhCA,EAAWnF,EAAA3D,EAAA4D,cAAC4H,EAAA,EAAD,MAAsB7H,EAAA3D,EAAA4D,cAAC4H,EAAA,EAAD,UAK1C7H,EAAA3D,EAAA4D,cAACiH,EAAA7K,EAAD,CAAgBiK,GAAG,kBAChBP,KAIP/F,EAAA3D,EAAA4D,cAAC6H,EAAAzL,EAAD,KACE2D,EAAA3D,EAAA4D,cAAC8H,EAAA1L,EAAD,CAAQ6E,QAASoD,GAAjB,aACAtE,EAAA3D,EAAA4D,cAAC8H,EAAA1L,EAAD,CAAQ2L,MAAM,UAAU9G,QAASgH,GAAjC,iBCpLFI,GAAgBjJ,IAAOC,IAAVC,WAAA,CAAAC,YAAA,yBAAAC,YAAA,YAAGJ,CAAH,0CAIbkJ,GAAclJ,IAAOC,IAAVC,WAAA,CAAAC,YAAA,uBAAAC,YAAA,YAAGJ,CAAH,gJA2HFQ,GAjGCC,IACdqE,GACAC,IAAU,WAAY,cAAe,MACrCA,IAAU,aAAc,iBAAiB,GACzCA,IAAU,YAAa,gBAAgB,GACvCC,IAAuB,CACrBmE,YAAa,SAAA/H,GAAA,IACXgI,EADWhI,EACXgI,YADW,OAIP,SAACjD,GAAD,OAAkBiD,EAAYjD,EAAMkD,iBAC1CC,YAAa,SAAAlE,GAAA,IACXgE,EADWhE,EACXgE,YADW,OAIP,kBAAMA,EAAY,QACxBjE,cAAe,SAAAoE,GAAA,IACbrE,EADaqE,EACbrE,cACAsE,EAFaD,EAEbC,WACAJ,EAHaG,EAGbH,YAHa,OAQT,WACJA,EAAY,MACZlE,GAAesE,KAEjBX,aAAc,SAAAhD,GAAA,IACZ+C,EADY/C,EACZ+C,aACAa,EAFY5D,EAEZ4D,UACAL,EAHYvD,EAGZuD,YAHY,OAQR,WACJA,EAAY,MACZR,GAAca,OA2DLjJ,CAtDmB,SAAAyF,GAW5B,IAVJyD,EAUIzD,EAVJyD,SACAJ,EASIrD,EATJqD,YACAH,EAQIlD,EARJkD,YACAK,EAOIvD,EAPJuD,WACAC,EAMIxD,EANJwD,UACAtE,EAKIc,EALJd,cACA0D,EAII5C,EAJJ4C,aACA3D,EAGIe,EAHJf,cACA0D,EAEI3C,EAFJ2C,aACApE,EACIyB,EADJzB,YAGA,OADA7B,QAAQC,IAAI,iBAAkB4B,EAAY/E,MAAMhC,MAE9CkD,EAAA3D,EAAA4D,cAACS,EAAA,EAAD,KACEV,EAAA3D,EAAA4D,cAAAD,EAAA3D,EAAA2M,SAAA,KACEhJ,EAAA3D,EAAA4D,cAACqI,GAAD,KACEtI,EAAA3D,EAAA4D,cAACwH,EAAApL,EAAD,CACE4M,gBAAc,OACdC,aAAW,QACXhI,QAASsH,EACTR,MAAM,UACNJ,MAAM,SAEN5H,EAAA3D,EAAA4D,cAACkJ,EAAA,EAAD,OAEFnJ,EAAA3D,EAAA4D,cAACsI,GAAD,KAAc1E,EAAY/E,MAAMhC,MAAQ,KAE1CkD,EAAA3D,EAAA4D,cAACmJ,EAAA/M,EAAD,CACEiK,GAAG,cACHyC,SAAUA,EACVM,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEdrD,OAAQ6C,EACRU,QAASd,GAET3I,EAAA3D,EAAA4D,cAACyJ,EAAArN,EAAD,CAAU6E,QAASgH,GAAnB,YACAlI,EAAA3D,EAAA4D,cAACyJ,EAAArN,EAAD,CAAU6E,QAASsD,GAAnB,oBAEDqE,GACC7I,EAAA3D,EAAA4D,cAAC0J,GAAD,CAAQzD,KAAM2C,EAAYtE,cAAeA,IAE1CuE,GAAa9I,EAAA3D,EAAA4D,cAAC2J,GAAD,CAAO1D,KAAM4C,EAAWb,aAAcA,QC3HtD4B,GAAYxK,YAAOyK,KAAVvK,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,0EAOT0K,GAAS1K,IAAOC,IAAVC,WAAA,CAAAC,YAAA,iBAAAC,YAAA,gBAAGJ,CAAH,kBAMN2K,GAAY3K,YAA4BqC,KAA/BnC,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,qGAEH,SAAAb,GAAK,OAAKA,EAAMyL,OAAS,YAAc,SAElC,SAAAzL,GAAK,OAAKA,EAAMyL,OAAS,MAAQ,QAuDnCpK,GApDCC,IACduE,IAAa,CAAE6F,iBAAkB,kBAAM,kBAAMC,mBAAS,SAmDzCtK,CA5CkB,SAAAY,GAAA,IAAGyJ,EAAHzJ,EAAGyJ,iBAAH,OAC/BlK,EAAA3D,EAAA4D,cAACY,EAAA,SAAD,KACG,SAAA4D,GAAkB,IACT2F,EADS3F,EAAfpC,SACM+H,SAER,OACEpK,EAAA3D,EAAA4D,cAACS,EAAA,EAAD,KACEV,EAAA3D,EAAA4D,cAACoK,EAAAhO,EAAD,CAAQmL,SAAS,SACfxH,EAAA3D,EAAA4D,cAACqK,EAAAjO,EAAD,KACE2D,EAAA3D,EAAA4D,cAAC4J,GAAD,CACEzH,QAAQ,QACR4F,MAAM,UACNuC,QAAM,EACN3C,MAAM,OACN1G,QAASgJ,GALX,eASAlK,EAAA3D,EAAA4D,cAAC8J,GAAD,MACA/J,EAAA3D,EAAA4D,cAAC+J,GAAD,CACE5H,QAAsB,MAAbgI,EAAmB,WAAa,OACzCI,UAAWC,OACXtK,GAAG,IACH8J,QAAsB,MAAbG,GAAkBM,YAJ7B,QAQA1K,EAAA3D,EAAA4D,cAAC+J,GAAD,CACE5H,QAAsB,eAAbgI,EAA4B,WAAa,OAClDI,UAAWC,OACXtK,GAAG,aACH8J,QAAsB,eAAbG,GAA2BM,YAJtC,YAQA1K,EAAA3D,EAAA4D,cAAC0K,GAAD,aCnCChK,IArBe,SAAAF,GAAA,IAAG8B,EAAH9B,EAAG8B,SAAH,OAC5BvC,EAAA3D,EAAA4D,cAAC2K,EAAA,YAAD,CACE9M,MAZO,aAaPgE,OAAQ,SAAA+I,GAAI,OACV7K,EAAA3D,EAAA4D,cAAAD,EAAA3D,EAAA2M,SAAA,KACEhJ,EAAA3D,EAAA4D,cAAC6K,EAAAzO,EAAD,CACEuL,MAAOiD,EAAKE,KAAKC,aAAapD,MAC9BqD,KAAM,CACJ,CAAEnO,KAAM,cAAeoO,QAAS,UAChC,CAAEpO,KAAM,WAAYoO,QAAS,uBAG/BlL,EAAA3D,EAAA4D,cAAA,QAAMkL,KAAK,QAEbnL,EAAA3D,EAAA4D,cAACmL,GAAD,MACC7I,IAdPsI,KAAAQ","file":"component---src-pages-projekte-index-tsx-e3f09bf61866da2fb0ce.js","sourcesContent":["import rxdb, { removeDatabase } from 'rxdb'\r\n\r\nimport pouchdbAdapterHttp from 'pouchdb-adapter-http'\r\nimport pouchdbAdapterIdb from 'pouchdb-adapter-idb'\r\n\r\nimport zeitSchema from '../schemas/zeit.json'\r\nimport ortSchema from '../schemas/ort.json'\r\nimport beobSchema from '../schemas/beob.json'\r\nimport messageSchema from '../schemas/message.json'\r\n\r\nrxdb.plugin(pouchdbAdapterHttp)\r\nrxdb.plugin(pouchdbAdapterIdb)\r\n\r\nexport default async () => {\r\n  let db\r\n  try {\r\n    db = await rxdb.create({\r\n      name: 'erfassen',\r\n      adapter: 'idb',\r\n      queryChangeDetection: false, // <- queryChangeDetection (optional, default: false)\r\n      // only needed in dev mode\r\n      // because db is rebuilt on every live reload\r\n      //ignoreDuplicate: true,\r\n    })\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n  // maybe use\r\n  // https://github.com/rafamel/rxdb-utils#models\r\n  // to make this easier\r\n  await db.collection({\r\n    name: 'message',\r\n    schema: messageSchema,\r\n  })\r\n  await db.collection({\r\n    name: 'zeit',\r\n    schema: zeitSchema,\r\n  })\r\n  await db.collection({\r\n    name: 'ort',\r\n    schema: ortSchema,\r\n  })\r\n  db.ort.sync({\r\n    remote: 'http://localhost:5984/erfassen/',\r\n    options: {\r\n      live: true,\r\n      retry: true,\r\n    },\r\n    query: db.ort\r\n      .find()\r\n      .where('type')\r\n      .eq('ort'),\r\n  })\r\n  await db.collection({\r\n    name: 'beob',\r\n    schema: beobSchema,\r\n  })\r\n  db.beob.sync({\r\n    remote: 'http://localhost:5984/erfassen/',\r\n    options: {\r\n      live: true,\r\n      retry: true,\r\n    },\r\n    query: db.beob\r\n      .find()\r\n      .where('type')\r\n      .eq('beob'),\r\n  })\r\n\r\n  return db\r\n}\r\n","import { Container } from 'unstated'\r\n\r\nimport createRxDb from '../utils/createRxDb'\r\n\r\ninterface Props {\r\n  rxDb: any\r\n}\r\ndeclare global {\r\n  interface Window {\r\n    rxDb: any\r\n  }\r\n}\r\n\r\n/**\r\n * window.rxDb is a hack\r\n * state gets lost in live update in gatsby\r\n * so need to set it on window and fetch it from there\r\n * to enable nice dev experience\r\n */\r\nexport default class RxDbContainer extends Container<Props> {\r\n  constructor(props: Props) {\r\n    super()\r\n    const rxDb = typeof window === 'undefined' ? null : window.rxDb || null\r\n    this.state = {\r\n      rxDb,\r\n    }\r\n    // create initial state\r\n    if (\r\n      (typeof window !== 'undefined' && !window.rxDb) ||\r\n      typeof window === 'undefined'\r\n    ) {\r\n      createRxDb()\r\n        .then((rxDb: any) => {\r\n          this.setState(state => ({ rxDb }))\r\n          if (typeof window !== 'undefined') window.rxDb = rxDb\r\n        })\r\n        .catch(error => {\r\n          throw error\r\n        })\r\n    }\r\n  }\r\n\r\n  setRxDb(rxDb: any) {\r\n    this.setState(state => ({ rxDb }))\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  ReflexContainer as OrigReflexContainer,\r\n  ReflexSplitter,\r\n  ReflexElement,\r\n} from 'react-reflex'\r\nimport 'react-reflex/styles.css'\r\nimport compose from 'recompose/compose'\r\n\r\nimport Layout from '../../components/Layout'\r\nimport withRxDb from '../../state/withRxDb.js'\r\nimport ErrorBoundary from '../../components/ErrorBoundary'\r\n\r\nconst Container = styled.div`\r\n  margin-top: 64px;\r\n  min-height: calc(100vh - 64px);\r\n`\r\nconst LoadingContainer = styled(Container)`\r\n  padding: 20px;\r\n`\r\nconst ReflexContainer = styled(OrigReflexContainer)`\r\n  height: calc(100vh - 64px) !important;\r\n`\r\n\r\ninterface Props {\r\n  rxDbState: any\r\n}\r\n\r\nconst enhance = compose(withRxDb)\r\n\r\nconst ProjektePage: React.SFC<Props> = ({ rxDbState }) => {\r\n  const { rxDb } = rxDbState.state\r\n  if (!rxDb) {\r\n    return (\r\n      <Layout>\r\n        <LoadingContainer>Lade daten...</LoadingContainer>\r\n      </Layout>\r\n    )\r\n  }\r\n\r\n  /*\r\n  const orte = rxDb.ort\r\n    ? rxDb.ort.dump().then((orte: any) => console.log('orte:', orte.docs))\r\n    : []\r\n  const beobs = rxDb.beob\r\n    ? rxDb.beob.dump().then((beobs: any) => console.log('beobs:', beobs.docs))\r\n    : []*/\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <Layout>\r\n        <Container>\r\n          <ReflexContainer orientation=\"vertical\">\r\n            <ReflexElement\r\n              flex={0.3}\r\n              propagateDimensions={true}\r\n              renderOnResizeRate={200}\r\n              renderOnResize={true}\r\n            >\r\n              <p>Tree</p>\r\n            </ReflexElement>\r\n            <ReflexSplitter />\r\n            <ReflexElement\r\n              propagateDimensions={true}\r\n              renderOnResizeRate={200}\r\n              renderOnResize={true}\r\n            >\r\n              <p>Form</p>\r\n              <button\r\n                onClick={async () =>\r\n                  rxDb.ort.insert({\r\n                    name: 'test-ort',\r\n                    type: 'ort',\r\n                  })\r\n                }\r\n              >\r\n                insert ort\r\n              </button>\r\n              <button\r\n                onClick={async () =>\r\n                  rxDb.beob.insert({\r\n                    art: 'test-art',\r\n                    type: 'beob',\r\n                  })\r\n                }\r\n              >\r\n                insert beob\r\n              </button>\r\n            </ReflexElement>\r\n          </ReflexContainer>\r\n        </Container>\r\n      </Layout>\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n\r\nexport default enhance(ProjektePage)\r\n","/**\r\n * inspired from:\r\n * https://www.reddit.com/r/reactjs/comments/8t3di7/how_do_you_access_your_store_in_lifecycle/\r\n * example: https://github.com/jaredpalmer/react-fns/blob/052ea56092c53946c7937e1d32adf78a7d37d6f3/src/GeoPosition/withGeoPosition.tsx\r\n */\r\nimport React from 'react'\r\nimport { Subscribe } from 'unstated'\r\n\r\nimport RxDbState from './RxDb'\r\n\r\nexport default function withRxDbState(WrappedComponent) {\r\n  return props => (\r\n    <Subscribe to={[RxDbState]}>\r\n      {value => <WrappedComponent rxDbState={value} {...props} />}\r\n    </Subscribe>\r\n  )\r\n}\r\n","// @flow\r\nimport React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst Container = styled.div`\r\n  margin: 10px;\r\n`\r\nconst ErrorTitle = styled.div`\r\n  margin-bottom: 10px;\r\n`\r\nconst ReloadButton = styled(Button)`\r\n  margin-top: 10px !important;\r\n`\r\n\r\ninterface Props {}\r\ninterface State {\r\n  error: Error\r\n  errorInfo: any\r\n}\r\n\r\nclass ErrorBoundary<Props, State> extends Component {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = { error: null, errorInfo: null }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: any) {\r\n    // Catch errors in any components below and re-render with error message\r\n    this.setState({\r\n      error: error,\r\n      errorInfo: errorInfo,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { errorInfo } = this.state\r\n    if (errorInfo) {\r\n      console.log('errorInfo:', errorInfo)\r\n      return (\r\n        <Container>\r\n          <ErrorTitle>\r\n            Oh je, es ist ein Fehler aufgetreten! Bericht:\r\n          </ErrorTitle>\r\n          <div>{errorInfo.componentStack}</div>\r\n          <ReloadButton\r\n            variant=\"outlined\"\r\n            onClick={() => {\r\n              typeof window !== 'undefined' && window.location.reload(false)\r\n            }}\r\n          >\r\n            Neu laden\r\n          </ReloadButton>\r\n        </Container>\r\n      )\r\n    }\r\n    const { children } = this.props\r\n    var childrenWithProps = React.Children.map(children, child =>\r\n      React.cloneElement(child, { ...this.props }),\r\n    )\r\n\r\n    // Normally, just render children\r\n    // and pass all props\r\n    return childrenWithProps\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","// in development should return local path\r\nexport default () => {\r\n  if (typeof window === 'undefined') {\r\n    return 'https://erfassen.ch:5984/erfassen'\r\n  }\r\n  const hostnameWithoutWww: string = window.location.hostname.replace(\r\n    'www.',\r\n    '',\r\n  )\r\n  const isLocalhost: boolean = hostnameWithoutWww === 'localhost'\r\n  const hostname = isLocalhost ? 'localhost' : window.location.hostname\r\n  const couchUrl: string = isLocalhost\r\n    ? `http://${hostname}:5984/erfassen`\r\n    : `https://erfassen.ch:5984/erfassen`\r\n\r\n  return couchUrl\r\n}\r\n","import { Container } from 'unstated'\r\nimport PouchDB from 'pouchdb-browser'\r\nimport pouchdbAuthentication from 'pouchdb-authentication'\r\nimport get from 'lodash/get'\r\n\r\nimport couchUrl from '../utils/couchUrl'\r\n\r\nPouchDB.plugin(pouchdbAuthentication)\r\n\r\ninterface StateProps {\r\n  authDb: any\r\n  name: string | null\r\n}\r\nexport interface Props {\r\n  state: StateProps\r\n  setAuthDb: (authDb: any) => void\r\n  setName: (name: string | null) => void\r\n}\r\n\r\nexport default class AuthDbContainer extends Container<StateProps> {\r\n  constructor(props: StateProps) {\r\n    super()\r\n    const authDb = new PouchDB(couchUrl())\r\n    this.state = {\r\n      authDb,\r\n      name: null,\r\n    }\r\n\r\n    authDb\r\n      .getSession()\r\n      .then((resp: any) => {\r\n        const name = get(resp, 'userCtx.name', null)\r\n        if (name) this.setState(state => ({ name }))\r\n      })\r\n      .catch((error: Error) => {\r\n        throw error\r\n      })\r\n  }\r\n\r\n  setAuthDb(authDb: any) {\r\n    this.setState(state => ({ authDb }))\r\n  }\r\n\r\n  setName(name: string | null) {\r\n    this.setState(state => ({ name }))\r\n  }\r\n}\r\n","/**\r\n * inspired from:\r\n * https://www.reddit.com/r/reactjs/comments/8t3di7/how_do_you_access_your_store_in_lifecycle/\r\n * example: https://github.com/jaredpalmer/react-fns/blob/052ea56092c53946c7937e1d32adf78a7d37d6f3/src/GeoPosition/withGeoPosition.tsx\r\n */\r\nimport React from 'react'\r\nimport { Subscribe } from 'unstated'\r\n\r\nimport AuthDbState from './AuthDb'\r\n\r\nexport default WrappedComponent => props => (\r\n  <Subscribe to={[AuthDbState]}>\r\n    {value => <WrappedComponent authDbState={value} {...props} />}\r\n  </Subscribe>\r\n)\r\n","// @flow\r\nimport React from 'react'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md'\r\nimport Button from '@material-ui/core/Button'\r\nimport styled from 'styled-components'\r\nimport compose from 'recompose/compose'\r\nimport withHandlers from 'recompose/withHandlers'\r\nimport withState from 'recompose/withState'\r\n\r\nimport ErrorBoundary from '../ErrorBoundary'\r\nimport withAuthDbState from '../../state/withAuthDb'\r\nimport { Props as authDbStateProps } from '../../state/AuthDb'\r\n\r\nconst StyledDialog = styled(Dialog)``\r\nconst StyledDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 24px;\r\n`\r\nconst StyledInput = styled(Input)`\r\n  &:before {\r\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\r\n  }\r\n`\r\n\r\nconst enhance = compose(\r\n  withAuthDbState,\r\n  withState('email', 'setEmail', ''),\r\n  withState('password', 'setPassword', ''),\r\n  withState('showPass', 'setShowPass', false),\r\n  withState('emailErrorText', 'setEmailErrorText', ''),\r\n  withState('passwordErrorText', 'setPasswordErrorText', ''),\r\n  withHandlers<any, any>({\r\n    close: ({\r\n      setSignupOpen,\r\n    }: {\r\n      setSignupOpen: (signupOpen: boolean) => void\r\n    }) => () => setSignupOpen(false),\r\n    onClickSignup: ({\r\n      email,\r\n      password,\r\n      authDbState,\r\n      setSignupOpen,\r\n    }: {\r\n      email: string\r\n      password: string\r\n      authDbState: authDbStateProps\r\n      setSignupOpen: (signupOpen: boolean) => void\r\n    }) => async () => {\r\n      let signUpResponce\r\n      try {\r\n        signUpResponce = await authDbState.state.authDb.signUp(email, password)\r\n      } catch (error) {\r\n        console.log('Signup: error logging in:', error)\r\n      }\r\n      console.log('Signup: signUpResponce logging in:', signUpResponce)\r\n      // TODO: log in\r\n      let logInResponce\r\n      try {\r\n        logInResponce = await authDbState.state.authDb.logIn(email, password)\r\n      } catch (error) {\r\n        if (error.name === 'unauthorized' || error.name === 'forbidden') {\r\n          // name or password incorrect\r\n        } else {\r\n          // cosmic rays, a meteor, etc.\r\n        }\r\n        console.log('Signup: error logging in:', error)\r\n      }\r\n      console.log('Signup: logInResponce logging in:', logInResponce)\r\n      authDbState.setName(email)\r\n      setSignupOpen(false)\r\n    },\r\n    onToggleShowPass: ({\r\n      showPass,\r\n      setShowPass,\r\n    }: {\r\n      showPass: boolean\r\n      setShowPass: (showPass: boolean) => void\r\n    }) => () => {\r\n      setShowPass(!showPass)\r\n    },\r\n  }),\r\n  withHandlers<any, any>({\r\n    onBlurEmail: ({ setEmail }: { setEmail: (email: string) => void }) => (\r\n      event: Event,\r\n    ) => setEmail(event.target.value),\r\n    onBlurPassword: ({\r\n      setPassword,\r\n    }: {\r\n      setPassword: (password: string) => void\r\n    }) => (event: Event) => setPassword(event.target.value),\r\n  }),\r\n)\r\n\r\nconst Signup = ({\r\n  email,\r\n  password,\r\n  showPass,\r\n  setShowPass,\r\n  emailErrorText,\r\n  passwordErrorText,\r\n  setEmailErrorText,\r\n  setPasswordErrorText,\r\n  onBlurEmail,\r\n  onBlurPassword,\r\n  onClickSignup,\r\n  user,\r\n  open,\r\n  setSignupOpen,\r\n  close,\r\n  onToggleShowPass,\r\n  db,\r\n}: {\r\n  email: string\r\n  showPass: boolean\r\n  setEmail: () => void\r\n  password: string\r\n  setShowPass: (showPass: boolean) => void\r\n  setPassword: () => void\r\n  emailErrorText: string\r\n  setEmailErrorText: () => void\r\n  passwordErrorText: string\r\n  setPasswordErrorText: () => void\r\n  onBlurEmail: () => void\r\n  onBlurPassword: () => void\r\n  onClickSignup: () => void\r\n  user: Object\r\n  open: boolean\r\n  setSignupOpen: (signupOpen: boolean) => void\r\n  close: () => void\r\n  onToggleShowPass: () => void\r\n  db: any\r\n}) => (\r\n  <ErrorBoundary>\r\n    <StyledDialog aria-labelledby=\"dialog-title\" open={open}>\r\n      <DialogTitle id=\"dialog-title\">Anmeldung</DialogTitle>\r\n      <StyledDiv>\r\n        <FormControl\r\n          error={!!emailErrorText}\r\n          fullWidth\r\n          aria-describedby=\"emailHelper\"\r\n        >\r\n          <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n          <StyledInput\r\n            id=\"email\"\r\n            defaultValue={email}\r\n            onBlur={onBlurEmail}\r\n            autoFocus\r\n            onKeyPress={e => {\r\n              if (e.key === 'Enter') {\r\n                onBlurEmail()\r\n              }\r\n            }}\r\n          />\r\n          <FormHelperText id=\"emailHelper\">{emailErrorText}</FormHelperText>\r\n        </FormControl>\r\n        <FormControl\r\n          error={!!passwordErrorText}\r\n          fullWidth\r\n          aria-describedby=\"passwortHelper\"\r\n        >\r\n          <InputLabel htmlFor=\"passwort\">Passwort</InputLabel>\r\n          <StyledInput\r\n            id=\"passwort\"\r\n            type={showPass ? 'text' : 'password'}\r\n            defaultValue={password}\r\n            onBlur={onBlurPassword}\r\n            onKeyPress={e => {\r\n              if (e.key === 'Enter') {\r\n                onBlurPassword()\r\n              }\r\n            }}\r\n            autoComplete=\"current-password\"\r\n            autoCorrect=\"off\"\r\n            spellCheck=\"false\"\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  onClick={onToggleShowPass}\r\n                  onMouseDown={e => e.preventDefault()}\r\n                  title={showPass ? 'verstecken' : 'anzeigen'}\r\n                >\r\n                  {showPass ? <MdVisibilityOff /> : <MdVisibility />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n          <FormHelperText id=\"passwortHelper\">\r\n            {passwordErrorText}\r\n          </FormHelperText>\r\n        </FormControl>\r\n      </StyledDiv>\r\n      <DialogActions>\r\n        <Button onClick={close}>abbrechen</Button>\r\n        <Button color=\"primary\" onClick={onClickSignup}>\r\n          Konto erstellen\r\n        </Button>\r\n      </DialogActions>\r\n    </StyledDialog>\r\n  </ErrorBoundary>\r\n)\r\n\r\nexport default enhance(Signup)\r\n","// @flow\r\nimport React from 'react'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md'\r\nimport Button from '@material-ui/core/Button'\r\nimport styled from 'styled-components'\r\nimport compose from 'recompose/compose'\r\nimport withHandlers from 'recompose/withHandlers'\r\nimport withState from 'recompose/withState'\r\n\r\nimport ErrorBoundary from '../ErrorBoundary'\r\nimport withAuthDbState from '../../state/withAuthDb'\r\nimport { Props as authDbStateProps } from '../../state/AuthDb'\r\n\r\nconst StyledDialog = styled(Dialog)``\r\nconst StyledDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 24px;\r\n`\r\nconst StyledInput = styled(Input)`\r\n  &:before {\r\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\r\n  }\r\n`\r\n\r\nconst enhance = compose(\r\n  withAuthDbState,\r\n  withState('email', 'setEmail', ''),\r\n  withState('password', 'setPassword', ''),\r\n  withState('showPass', 'setShowPass', false),\r\n  withState('emailErrorText', 'setEmailErrorText', ''),\r\n  withState('passwordErrorText', 'setPasswordErrorText', ''),\r\n  withHandlers<any, any>({\r\n    close: ({\r\n      setLoginOpen,\r\n    }: {\r\n      setLoginOpen: (loginOpen: boolean) => void\r\n    }) => () => setLoginOpen(false),\r\n    onClickLogin: ({\r\n      email,\r\n      password,\r\n      authDbState,\r\n      setLoginOpen,\r\n    }: {\r\n      email: string\r\n      password: string\r\n      authDbState: authDbStateProps\r\n      setLoginOpen: (loginOpen: boolean) => void\r\n    }) => async () => {\r\n      let logInResponce\r\n      try {\r\n        logInResponce = await authDbState.state.authDb.logIn(email, password)\r\n      } catch (error) {\r\n        if (error.name === 'unauthorized' || error.name === 'forbidden') {\r\n          // name or password incorrect\r\n        } else {\r\n          // cosmic rays, a meteor, etc.\r\n        }\r\n        console.log('Login: error logging in:', error)\r\n        throw error\r\n      }\r\n      console.log('Login: logInResponce logging in:', logInResponce)\r\n      authDbState.setName(email)\r\n      setLoginOpen(false)\r\n    },\r\n    onToggleShowPass: ({\r\n      showPass,\r\n      setShowPass,\r\n    }: {\r\n      showPass: boolean\r\n      setShowPass: (showPass: boolean) => void\r\n    }) => () => {\r\n      setShowPass(!showPass)\r\n    },\r\n  }),\r\n  withHandlers<any, any>({\r\n    onBlurEmail: ({ setEmail }: { setEmail: (email: string) => void }) => (\r\n      event: Event,\r\n    ) => setEmail(event.target.value),\r\n    onBlurPassword: ({\r\n      setPassword,\r\n    }: {\r\n      setPassword: (password: string) => void\r\n    }) => (event: Event) => setPassword(event.target.value),\r\n  }),\r\n)\r\n\r\nconst Login = ({\r\n  email,\r\n  password,\r\n  showPass,\r\n  setShowPass,\r\n  emailErrorText,\r\n  passwordErrorText,\r\n  setEmailErrorText,\r\n  setPasswordErrorText,\r\n  onBlurEmail,\r\n  onBlurPassword,\r\n  onClickLogin,\r\n  user,\r\n  open,\r\n  setLoginOpen,\r\n  close,\r\n  onToggleShowPass,\r\n  db,\r\n}: {\r\n  email: string\r\n  showPass: boolean\r\n  setEmail: () => void\r\n  password: string\r\n  setShowPass: (showPass: boolean) => void\r\n  setPassword: () => void\r\n  emailErrorText: string\r\n  setEmailErrorText: () => void\r\n  passwordErrorText: string\r\n  setPasswordErrorText: () => void\r\n  onBlurEmail: () => void\r\n  onBlurPassword: () => void\r\n  onClickLogin: () => void\r\n  user: Object\r\n  open: boolean\r\n  setLoginOpen: (loginOpen: boolean) => void\r\n  close: () => void\r\n  onToggleShowPass: () => void\r\n  db: any\r\n}) => (\r\n  <ErrorBoundary>\r\n    <StyledDialog aria-labelledby=\"dialog-title\" open={open}>\r\n      <DialogTitle id=\"dialog-title\">Anmeldung</DialogTitle>\r\n      <StyledDiv>\r\n        <FormControl\r\n          error={!!emailErrorText}\r\n          fullWidth\r\n          aria-describedby=\"emailHelper\"\r\n        >\r\n          <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n          <StyledInput\r\n            id=\"email\"\r\n            defaultValue={email}\r\n            onBlur={onBlurEmail}\r\n            autoFocus\r\n            onKeyPress={e => {\r\n              if (e.key === 'Enter') {\r\n                onBlurEmail()\r\n              }\r\n            }}\r\n          />\r\n          <FormHelperText id=\"emailHelper\">{emailErrorText}</FormHelperText>\r\n        </FormControl>\r\n        <FormControl\r\n          error={!!passwordErrorText}\r\n          fullWidth\r\n          aria-describedby=\"passwortHelper\"\r\n        >\r\n          <InputLabel htmlFor=\"passwort\">Passwort</InputLabel>\r\n          <StyledInput\r\n            id=\"passwort\"\r\n            type={showPass ? 'text' : 'password'}\r\n            defaultValue={password}\r\n            onBlur={onBlurPassword}\r\n            onKeyPress={e => {\r\n              if (e.key === 'Enter') {\r\n                onBlurPassword()\r\n              }\r\n            }}\r\n            autoComplete=\"current-password\"\r\n            autoCorrect=\"off\"\r\n            spellCheck=\"false\"\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  onClick={onToggleShowPass}\r\n                  onMouseDown={e => e.preventDefault()}\r\n                  title={showPass ? 'verstecken' : 'anzeigen'}\r\n                >\r\n                  {showPass ? <MdVisibilityOff /> : <MdVisibility />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n          <FormHelperText id=\"passwortHelper\">\r\n            {passwordErrorText}\r\n          </FormHelperText>\r\n        </FormControl>\r\n      </StyledDiv>\r\n      <DialogActions>\r\n        <Button onClick={close}>abbrechen</Button>\r\n        <Button color=\"primary\" onClick={onClickLogin}>\r\n          Anmelden\r\n        </Button>\r\n      </DialogActions>\r\n    </StyledDialog>\r\n  </ErrorBoundary>\r\n)\r\n\r\nexport default enhance(Login)\r\n","import React from 'react'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport { FaUserCircle as UserIcon } from 'react-icons/fa'\r\nimport compose from 'recompose/compose'\r\nimport withHandlers from 'recompose/withHandlers'\r\nimport withState from 'recompose/withState'\r\nimport styled from 'styled-components'\r\n\r\nimport Signup from './Signup'\r\nimport Login from './Login'\r\nimport ErrorBoundary from '../ErrorBoundary'\r\nimport withAuthDbState from '../../state/withAuthDb'\r\nimport { Props as authDbStateProps } from '../../state/AuthDb'\r\n\r\nconst IconContainer = styled.div`\r\n  position: relative;\r\n  padding-left: 10px;\r\n`\r\nconst UserNameDiv = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  font-size: 10px;\r\n  width: 60px;\r\n  left: 5px;\r\n  text-align: center;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n`\r\n\r\ninterface Props {\r\n  anchorEl: EventTarget | null\r\n  setAnchorEl: (anchorEl: EventTarget | null) => void\r\n  onClickMenu: (event: Event) => void\r\n  onCloseMenu: (event: Event) => void\r\n  signupOpen: boolean\r\n  setSignupOpen: (signupOpen: boolean) => void\r\n  onClickSignup: (signupOpen: boolean) => void\r\n  loginOpen: boolean\r\n  setLoginOpen: (signupOpen: boolean) => void\r\n  onClickLognin: (signupOpen: boolean) => void\r\n  authDbState: authDbStateProps\r\n}\r\n\r\nconst enhance = compose(\r\n  withAuthDbState,\r\n  withState('anchorEl', 'setAnchorEl', null),\r\n  withState('signupOpen', 'setSignupOpen', false),\r\n  withState('loginOpen', 'setLoginOpen', false),\r\n  withHandlers<any, any>({\r\n    onClickMenu: ({\r\n      setAnchorEl,\r\n    }: {\r\n      setAnchorEl: (anchorEl: EventTarget | null) => void\r\n    }) => (event: Event) => setAnchorEl(event.currentTarget),\r\n    onCloseMenu: ({\r\n      setAnchorEl,\r\n    }: {\r\n      setAnchorEl: (anchorEl: EventTarget | null) => void\r\n    }) => () => setAnchorEl(null),\r\n    onClickSignup: ({\r\n      setSignupOpen,\r\n      signupOpen,\r\n      setAnchorEl,\r\n    }: {\r\n      signupOpen: boolean\r\n      setSignupOpen: (signupOpen: boolean) => void\r\n      setAnchorEl: (anchorEl: EventTarget | null) => void\r\n    }) => () => {\r\n      setAnchorEl(null)\r\n      setSignupOpen(!signupOpen)\r\n    },\r\n    onClickLogin: ({\r\n      setLoginOpen,\r\n      loginOpen,\r\n      setAnchorEl,\r\n    }: {\r\n      loginOpen: boolean\r\n      setLoginOpen: (loginOpen: boolean) => void\r\n      setAnchorEl: (anchorEl: EventTarget | null) => void\r\n    }) => () => {\r\n      setAnchorEl(null)\r\n      setLoginOpen(!loginOpen)\r\n    },\r\n  }),\r\n)\r\n\r\nconst Account: React.SFC<Props> = ({\r\n  anchorEl,\r\n  onCloseMenu,\r\n  onClickMenu,\r\n  signupOpen,\r\n  loginOpen,\r\n  onClickSignup,\r\n  onClickLogin,\r\n  setSignupOpen,\r\n  setLoginOpen,\r\n  authDbState,\r\n}) => {\r\n  console.log('Account, name:', authDbState.state.name)\r\n  return (\r\n    <ErrorBoundary>\r\n      <>\r\n        <IconContainer>\r\n          <IconButton\r\n            aria-haspopup=\"true\"\r\n            aria-label=\"Konto\"\r\n            onClick={onClickMenu}\r\n            color=\"inherit\"\r\n            title=\"Konto\"\r\n          >\r\n            <UserIcon />\r\n          </IconButton>\r\n          <UserNameDiv>{authDbState.state.name || ''}</UserNameDiv>\r\n        </IconContainer>\r\n        <Menu\r\n          id=\"menu-appbar\"\r\n          anchorEl={anchorEl}\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={!!anchorEl}\r\n          onClose={onCloseMenu}\r\n        >\r\n          <MenuItem onClick={onClickLogin}>Anmelden</MenuItem>\r\n          <MenuItem onClick={onClickSignup}>Konto erstellen</MenuItem>\r\n        </Menu>\r\n        {signupOpen && (\r\n          <Signup open={signupOpen} setSignupOpen={setSignupOpen} />\r\n        )}\r\n        {loginOpen && <Login open={loginOpen} setLoginOpen={setLoginOpen} />}\r\n      </>\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n\r\nexport default enhance(Account)\r\n","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport styled from 'styled-components'\r\nimport { Link, navigate } from 'gatsby'\r\nimport { Location } from '@reach/router'\r\nimport compose from 'recompose/compose'\r\nimport withHandlers from 'recompose/withHandlers'\r\n\r\nimport Account from './Account'\r\nimport ErrorBoundary from '../ErrorBoundary'\r\n\r\nconst SiteTitle = styled(Typography)`\r\n  display: none;\r\n  cursor: pointer;\r\n  @media (min-width: 700px) {\r\n    display: block;\r\n  }\r\n`\r\nconst Spacer = styled.div`\r\n  flex-grow: 1;\r\n`\r\ninterface NavButtonProps {\r\n  active: boolean\r\n}\r\nconst NavButton = styled<NavButtonProps, any>(Button)`\r\n  color: white !important;\r\n  border: ${props => (props.active ? '1px white' : 'unset')};\r\n  border-color: rgba(255, 255, 255, 0.5) !important;\r\n  font-weight: ${props => (props.active ? '700' : '600')};\r\n`\r\n\r\nconst enhance = compose(\r\n  withHandlers({ onClickSiteTitle: () => () => navigate('/') }),\r\n)\r\n\r\ninterface Props {\r\n  onClickSiteTitle: () => void\r\n}\r\n\r\nconst Header: React.SFC<Props> = ({ onClickSiteTitle }) => (\r\n  <Location>\r\n    {({ location }) => {\r\n      const { pathname } = location\r\n\r\n      return (\r\n        <ErrorBoundary>\r\n          <AppBar position=\"fixed\">\r\n            <Toolbar>\r\n              <SiteTitle\r\n                variant=\"title\"\r\n                color=\"inherit\"\r\n                noWrap\r\n                title=\"Home\"\r\n                onClick={onClickSiteTitle}\r\n              >\r\n                erfassen.ch\r\n              </SiteTitle>\r\n              <Spacer />\r\n              <NavButton\r\n                variant={pathname === '/' ? 'outlined' : 'text'}\r\n                component={Link}\r\n                to=\"/\"\r\n                active={(pathname === '/').toString()}\r\n              >\r\n                Home\r\n              </NavButton>\r\n              <NavButton\r\n                variant={pathname === '/Projekte/' ? 'outlined' : 'text'}\r\n                component={Link}\r\n                to=\"/Projekte/\"\r\n                active={(pathname === '/Projekte/').toString()}\r\n              >\r\n                Projekte\r\n              </NavButton>\r\n              <Account />\r\n            </Toolbar>\r\n          </AppBar>\r\n        </ErrorBoundary>\r\n      )\r\n    }}\r\n  </Location>\r\n)\r\n\r\nexport default enhance(Header)\r\n","/**\r\n * Cant move Helmet to App\r\n * because neither StaticQuery nor AppQuery\r\n * work there :-(\r\n */\r\nimport React from 'react'\r\nimport Helmet from 'react-helmet'\r\nimport { StaticQuery, graphql } from 'gatsby'\r\n\r\nimport Header from './Header'\r\n\r\nconst query = graphql`\r\n  query SiteTitleQuery {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst Layout: React.SFC<{}> = ({ children }) => (\r\n  <StaticQuery\r\n    query={query}\r\n    render={data => (\r\n      <>\r\n        <Helmet\r\n          title={data.site.siteMetadata.title}\r\n          meta={[\r\n            { name: 'description', content: 'Sample' },\r\n            { name: 'keywords', content: 'sample, something' },\r\n          ]}\r\n        >\r\n          <html lang=\"en\" />\r\n        </Helmet>\r\n        <Header />\r\n        {children}\r\n      </>\r\n    )}\r\n  />\r\n)\r\n\r\nexport default Layout\r\n"],"sourceRoot":""}