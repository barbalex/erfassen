{"version":3,"sources":["webpack:///./src/pages/Projekte/NewProject.js","webpack:///./src/pages/Projekte/index.js","webpack:///./src/utils/getProjectNameFromDb.js","webpack:///./src/components/ErrorBoundary.js","webpack:///./src/utils/createMessageDb.js","webpack:///./src/utils/couchUrl.js","webpack:///./src/utils/provideProjectDbs.js","webpack:///./src/utils/createAndSyncUserCollection.js","webpack:///./src/state/Auth.js","webpack:///./src/state/withAuth.js","webpack:///./src/components/Header/Signup.js","webpack:///./src/components/Header/Login.js","webpack:///./src/components/Header/Account.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/Layout.js","webpack:///./src/utils/couchBaseUrl.js","webpack:///./src/utils/userDbNameFromUserEmail.js","webpack:///./src/utils/getProjectDbName.js","webpack:///./src/utils/createProjectDb.js"],"names":["setConfig","pureSFC","rxdb","plugin","pouchdbAdapterHttp","pouchdbAdapterIdb","StyledDialog","styled","Dialog","withConfig","displayName","componentId","StyledDiv","div","StyledInput","Input","StyledFormHelperText","FormHelperText","withAuthState","_ref","newProjectOpen","setNewProjectOpen","authState","_useState","useState","projectName","setProjectName","_useState2","projectName2","setProjectName2","_useState3","nameHelperText","setNameHelperText","_useState4","name2HelperText","setName2HelperText","close","useCallback","onClickCreate","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","abrupt","test","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","createProjectDb","t0","message","stop","this","onBlurName","event","target","value","onBlurName2","_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_17__","aria-labelledby","open","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_5___default","id","_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_9___default","error","fullWidth","aria-describedby","required","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8___default","htmlFor","defaultValue","onBlur","autoFocus","autoComplete","autoCorrect","spellCheck","component","type","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11___default","onClick","color","disabled","Container","ReflexContainer","OrigReflexContainer","_authState$state","state","dbs","email","loginOpen","useEffect","setLoginOpen","projectDbs","Object","entries","filter","_ref2","name","startsWith","map","_ref3","creatorName","dbName","firstPartOfName","db","toLowerCase","replace","react_default","ErrorBoundary","Layout","orientation","es","flex","propagateDimensions","renderOnResizeRate","renderOnResize","key","NewProject","ErrorTitle","ReloadButton","Button","props","_this","_Component","call","getDerivedStateFromError","render","_this2","console","log","react__WEBPACK_IMPORTED_MODULE_2___default","variant","window","location","reload","children","React","Children","child","cloneElement","assign","Component","createMessageDb","asyncToGenerator_default","regenerator_default","messageDb","projectDefCollection","projectdefSync","create","adapter","sent","collection","schema","projectDefMessageSchema","pouchSettings","fetch","_fetch","_x2","_x3","apply","arguments","toString","url","opts","credentials","addDb","sync","remote","couchBaseUrl","options","live","retry","query","projectdef","find","where","eq","addSync","_x","couchUrl","isLocalhost","hostname","provideProjectDbs","usersProjects","projects","existingProjects","keys","projectsToAdd","difference","projectsToRemove","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","length","done","createAndSyncUserCollection","syncs","userDbName","userDb","userDbNameFromUserEmail","userDocSchema","_fetch2","_x4","_x5","includes","user","docs$","subscribe","docData","PouchDB","pouchdbAuthentication","AuthContainer","_Container","setAuthDb","authDb","setState","setEmail","setSignupOpen","signupOpen","signUp","password","logOut","t1","logIn","t2","_ref4","_callee2","logInResponce","userCollection","userDocs","_context2","Error","assertThisInitialized_default","catch","exec","userDoc","_callee3","_this$state","_context3","values","forEach","remove","cancel","setDbs","_ref6","_Object$assign","newDbs","setSyncs","_ref7","_Object$assign2","newSyncs","getSession","then","resp","get","__webpack_exports__","WrappedComponent","unstated_es","to","AuthState","StyledTextField","TextField","setPassword","showPass","setShowPass","emailErrorText","_useState5","passwordErrorText","onClickSignup","onToggleShowPass","onBlurEmail","onBlurPassword","DialogTitle_default","label","helperText","FormControl_default","InputLabel_default","onKeyPress","e","endAdornment","InputAdornment_default","position","IconButton_default","onMouseDown","preventDefault","title","md","FormHelperText_default","DialogActions_default","Button_default","setEmailErrorText","setPasswordErrorText","onClickLogin","onChangeEmail","onChangePassword","Login_StyledDialog","Login_StyledDiv","Login_StyledTextField","onChange","Login_StyledInput","IconContainer","UserNameDiv","anchorEl","setAnchorEl","onClickMenu","currentTarget","onCloseMenu","onClickLogout","aria-haspopup","aria-label","fa","Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","onClose","MenuItem_default","Header_Signup","Header_Login","SiteTitle","Typography","Spacer","NavButton","active","Header","onClickSiteTitle","navigate","pathname","AppBar_default","Toolbar_default","noWrap","Link","Header_Account","gatsby_browser_entry","data","Helmet_default","site","siteMetadata","meta","content","lang","components_Header","_4130953669","module","exports","getProjectDbName","projectDbName","projectDb","messages","insert","projectDefSchema","_id"],"mappings":"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","file":"component---src-pages-projekte-index-js-d9beeccaf052dd27cffe.js","sourcesContent":["// @flow\nimport React, { useState, useCallback } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Button from '@material-ui/core/Button'\nimport styled from 'styled-components'\nimport rxdb from 'rxdb'\nimport pouchdbAdapterHttp from 'pouchdb-adapter-http'\nimport pouchdbAdapterIdb from 'pouchdb-adapter-idb'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport ErrorBoundary from '../../components/ErrorBoundary'\nimport withAuthState from '../../state/withAuth'\nimport createProjectDb from '../../utils/createProjectDb'\n\nrxdb.plugin(pouchdbAdapterHttp)\nrxdb.plugin(pouchdbAdapterIdb)\n\nconst StyledDialog = styled(Dialog)``\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 24px;\n`\nconst StyledInput = styled(Input)`\n  &:before {\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\n  }\n`\nconst StyledFormHelperText = styled(FormHelperText)`\n  margin-bottom: 5px !important;\n  div {\n    padding: 2px 0;\n  }\n  li {\n    margin-bottom: 2px !important;\n  }\n`\n\nconst NewProject = ({ newProjectOpen, setNewProjectOpen, authState }) => {\n  const [projectName, setProjectName] = useState('')\n  const [projectName2, setProjectName2] = useState('')\n  const [nameHelperText, setNameHelperText] = useState('')\n  const [name2HelperText, setName2HelperText] = useState('')\n\n  const close = useCallback(() => setNewProjectOpen(false))\n  const onClickCreate = useCallback(\n    async () => {\n      // ensure names are equal\n      if (projectName !== projectName2) {\n        return setNameHelperText('Die Namen müssen übereinstimmen')\n      }\n      // ensure projectName is valid for couch db\n      if (!/^[a-z][a-z0-9_$()+/-]*$/.test(projectName)) {\n        return setNameHelperText(\n          <>\n            <div>Dieser Name ist leider nicht zulässig.</div>\n            <div>Regeln für Namen:</div>\n            <ul>\n              <li>Beginnt mit einem Buchstaben</li>\n              <li>Zulässig sind folgende Zeichen:</li>\n              <ul>\n                <li>Buchstaben</li>\n                <li>Zahlen</li>\n                <li>{`_, $, (, ), +, / und -`}</li>\n              </ul>\n            </ul>\n          </>,\n        )\n      }\n      // create new project\n      try {\n        await createProjectDb({ projectName, authState })\n      } catch (error) {\n        setNameHelperText(error.message)\n        return setName2HelperText(error.message)\n      }\n      setNameHelperText('')\n      setNewProjectOpen(false)\n    },\n    [projectName, projectName2],\n  )\n  const onBlurName = useCallback(event => setProjectName(event.target.value))\n  const onBlurName2 = useCallback(event => setProjectName2(event.target.value))\n\n  return (\n    <ErrorBoundary>\n      <StyledDialog aria-labelledby=\"login-dialog-title\" open={newProjectOpen}>\n        <DialogTitle id=\"login-dialog-title\">Neues Projekt</DialogTitle>\n        <StyledDiv>\n          <FormControl\n            error={!!nameHelperText}\n            fullWidth\n            aria-describedby=\"nameHelper\"\n            required={true}\n          >\n            <InputLabel htmlFor=\"projectName\">Name</InputLabel>\n            <StyledInput\n              id=\"projectName\"\n              defaultValue=\"\"\n              onBlur={onBlurName}\n              autoFocus\n              autoComplete=\"off\"\n              autoCorrect=\"off\"\n              spellCheck={false}\n            />\n            <StyledFormHelperText id=\"nameHelper\" component=\"div\">\n              {nameHelperText}\n            </StyledFormHelperText>\n          </FormControl>\n          <FormControl\n            error={!!name2HelperText}\n            fullWidth\n            aria-describedby=\"loginName2Helper\"\n            required={true}\n          >\n            <InputLabel htmlFor=\"projectName2\">Name</InputLabel>\n            <StyledInput\n              id=\"projectName2\"\n              type=\"text\"\n              defaultValue=\"\"\n              onBlur={onBlurName2}\n              autoComplete=\"off\"\n              autoCorrect=\"off\"\n              spellCheck={false}\n            />\n            <StyledFormHelperText id=\"loginName2Helper\" component=\"div\">\n              {name2HelperText || (\n                <>\n                  <span>Bitte den Namen prüfen und nochmals eingeben.</span>\n                  <br />\n                  <span>Er kann danach nicht mehr verändert werden</span>\n                </>\n              )}\n            </StyledFormHelperText>\n          </FormControl>\n        </StyledDiv>\n        <DialogActions>\n          <Button onClick={close}>abbrechen</Button>\n          <Button\n            color=\"primary\"\n            onClick={onClickCreate}\n            disabled={!(projectName && projectName2)}\n          >\n            Projekt erstellen\n          </Button>\n        </DialogActions>\n      </StyledDialog>\n    </ErrorBoundary>\n  )\n}\n\nexport default withAuthState(NewProject)\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport {\n  ReflexContainer as OrigReflexContainer,\n  ReflexSplitter,\n  ReflexElement,\n} from 'react-reflex'\nimport 'react-reflex/styles.css'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport Layout from '../../components/Layout'\nimport withAuthState from '../../state/withAuth'\nimport ErrorBoundary from '../../components/ErrorBoundary'\nimport NewProject from './NewProject'\nimport getProjectNameFromDb from '../../utils/getProjectNameFromDb'\n\nconst Container = styled.div`\n  margin-top: 64px;\n  min-height: calc(100vh - 64px);\n`\nconst ReflexContainer = styled(OrigReflexContainer)`\n  height: calc(100vh - 64px) !important;\n`\n\nconst ProjektePage = ({ authState }) => {\n  const { dbs, email, loginOpen } = authState.state\n  const [newProjectOpen, setNewProjectOpen] = useState(false)\n  useEffect(() => {\n    if (!email && !loginOpen) authState.setLoginOpen(true)\n  })\n  //console.log('Projekte', { dbs, syncs })\n  let projectDbs = []\n  if (dbs) {\n    projectDbs = Object.entries(dbs)\n      // eslint-disable-next-line no-unused-vars\n      .filter(([name, db]) => name.startsWith('project_'))\n      .map(([name, db]) => ({\n        name: getProjectNameFromDb({ creatorName: email, dbName: name }),\n        db,\n      }))\n  }\n  //console.log('Projekte', { projectDbs })\n\n  return (\n    <ErrorBoundary>\n      <Layout>\n        <Container>\n          <ReflexContainer orientation=\"vertical\">\n            <ReflexElement\n              flex={0.3}\n              propagateDimensions={true}\n              renderOnResizeRate={200}\n              renderOnResize={true}\n            >\n              <p>Tree</p>\n              <button onClick={() => setNewProjectOpen(true)}>\n                create project\n              </button>\n              {projectDbs.map(db => (\n                <div key={db.name}>{db.name}</div>\n              ))}\n            </ReflexElement>\n            <ReflexSplitter />\n            <ReflexElement\n              propagateDimensions={true}\n              renderOnResizeRate={200}\n              renderOnResize={true}\n            >\n              <p>Form</p>\n            </ReflexElement>\n          </ReflexContainer>\n        </Container>\n        {newProjectOpen && (\n          <NewProject\n            newProjectOpen={newProjectOpen}\n            setNewProjectOpen={setNewProjectOpen}\n          />\n        )}\n      </Layout>\n    </ErrorBoundary>\n  )\n}\n\nexport default withAuthState(ProjektePage)\n","export default ({ creatorName, dbName }) => {\n  const firstPartOfName =\n    'project_' +\n    creatorName\n      .toLowerCase()\n      .replace('@', '_at_')\n      .replace('.', '_p_') +\n    '_'\n  const projectName = dbName.replace(firstPartOfName, '')\n  return projectName\n}\n","// @flow\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\nimport Button from '@material-ui/core/Button'\n\nconst Container = styled.div`\n  margin: 10px;\n`\nconst ErrorTitle = styled.div`\n  margin-bottom: 10px;\n`\nconst ReloadButton = styled(Button)`\n  margin-top: 10px !important;\n`\n\nclass ErrorBoundary extends Component {\n\n  static getDerivedStateFromError(error) {\n    // Catch errors in any components below and re-render with error message\n    return {\n      error,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  render() {\n    const { error } = this.state\n    if (error) {\n      console.log('error:', error)\n      return (\n        <Container>\n          <ErrorTitle>\n            Oh je, es ist ein Fehler aufgetreten! Bericht:\n          </ErrorTitle>\n          <div>{error.message}</div>\n          <ReloadButton\n            variant=\"outlined\"\n            onClick={() => {\n              typeof window !== 'undefined' && window.location.reload(false)\n            }}\n          >\n            Neu laden\n          </ReloadButton>\n        </Container>\n      )\n    }\n    const { children } = this.props\n    var childrenWithProps = React.Children.map(children, child =>\n      React.cloneElement(child, { ...this.props }),\n    )\n\n    // Normally, just render children\n    // and pass all props\n    return childrenWithProps\n  }\n}\n\nexport default ErrorBoundary\n","import rxdb from 'rxdb'\n\nimport pouchdbAdapterHttp from 'pouchdb-adapter-http'\nimport pouchdbAdapterIdb from 'pouchdb-adapter-idb'\n\nimport projectDefMessageSchema from '../schemas/projectDefMessage.json'\nimport couchBaseUrl from './couchBaseUrl'\n\nrxdb.plugin(pouchdbAdapterHttp)\nrxdb.plugin(pouchdbAdapterIdb)\n\nexport default async authState => {\n  // TODO:\n  // 1. fetch userDoc and it's project list\n  // 2. for every project create an rxdb\n  // 3. for every project fetch typeDefs doc and extract table list\n  // 4. for every table create collection and sync it\n  let messageDb\n  try {\n    messageDb = await rxdb.create({\n      name: 'messages',\n      adapter: 'idb',\n    })\n  } catch (error) {\n    throw error\n  }\n  // maybe use\n  // https://github.com/rafamel/rxdb-utils#models\n  // to make this easier\n  let projectDefCollection = await messageDb.collection({\n    name: 'projectdef',\n    schema: projectDefMessageSchema,\n    // force pouch to always include credentials\n    // see: https://github.com/pouchdb-community/pouchdb-authentication/issues/239#issuecomment-410489376\n    pouchSettings: {\n      fetch(url, opts) {\n        opts.credentials = 'include'\n        return fetch(url, opts)\n      },\n    },\n  })\n  authState.addDb({ name: 'messages', db: messageDb })\n\n  console.log('createMessageDb', { messageDb, projectDefCollection })\n  const projectdefSync = await projectDefCollection.sync({\n    remote: `${couchBaseUrl()}/messages/`,\n    options: {\n      live: true,\n      retry: true,\n    },\n    query: messageDb.projectdef\n      .find()\n      .where('type')\n      .eq('projectDef'),\n  })\n  //projectdefSync.error$.subscribe(error => console.dir(error))\n  //projectdefSync.change$.subscribe(change => console.dir(change))\n  //projectdefSync.docs$.subscribe(docData => console.dir(docData))\n  //projectdefSync.denied$.subscribe(docData => console.dir(docData))\n\n  authState.addSync({ name: 'messageDbProjectDef', sync: projectdefSync })\n}\n","// in development should return local path\nexport default () => {\n  if (typeof window === 'undefined') {\n    return 'https://erfassen.ch:5984/erfassen'\n  }\n  const hostnameWithoutWww = window.location.hostname.replace('www.', '')\n  const isLocalhost = hostnameWithoutWww === 'localhost'\n  const hostname = isLocalhost ? 'localhost' : window.location.hostname\n  const couchUrl = isLocalhost\n    ? `http://${hostname}:5984/erfassen`\n    : `https://erfassen.ch:5984/erfassen`\n\n  return couchUrl\n}\n","import difference from 'lodash/difference'\n\nimport createProjectDb from './createProjectDb'\n\n// TODO\n// check existing dbs\n// add only missing ones\n// remove existing ones not in projects list\n\nexport default ({ projects: usersProjects, authState }) => {\n  const { dbs } = authState.state\n  if (!dbs) return console.log('provideProjectDbs: no dbs found')\n  const existingProjects = Object.keys(dbs).filter(name =>\n    name.startsWith('project_'),\n  )\n  const projectsToAdd = difference(usersProjects, existingProjects)\n  const projectsToRemove = difference(existingProjects, usersProjects)\n  console.log('provideProjectDbs', {\n    existingProjects,\n    usersProjects,\n    projectsToAdd,\n    projectsToRemove,\n  })\n  for (let projectName of projectsToAdd) {\n    createProjectDb({\n      projectName,\n      authState,\n    })\n  }\n}\n","import rxdb from 'rxdb'\nimport pouchdbAdapterIdb from 'pouchdb-adapter-idb'\n\nimport userDbNameFromUserEmail from './userDbNameFromUserEmail'\nimport userDocSchema from '../schemas/userDoc.json'\nimport couchBaseUrl from './couchBaseUrl'\nimport provideProjectDbs from './provideProjectDbs'\n\nrxdb.plugin(pouchdbAdapterIdb)\n\nexport default async ({ authState, email }) => {\n  //console.log('createAndSyncUserCollections', { authState })\n  const { dbs, syncs } = authState.state\n  // create userDoc Collection\n  // then sync it\n  const userDbName = userDbNameFromUserEmail(email)\n  //console.log('createAndSyncUserCollections', { dbs, syncs })\n  let userDb\n  try {\n    userDb = await rxdb.create({\n      name: userDbName,\n      adapter: 'idb',\n      // force pouch to always include credentials\n      // see: https://github.com/pouchdb-community/pouchdb-authentication/issues/239#issuecomment-410489376\n      pouchSettings: {\n        fetch(url, opts) {\n          opts.credentials = 'include'\n          return fetch(url, opts)\n        },\n      },\n    })\n    await userDb.collection({\n      name: 'user',\n      schema: userDocSchema,\n      // force pouch to always include credentials\n      // see: https://github.com/pouchdb-community/pouchdb-authentication/issues/239#issuecomment-410489376\n      pouchSettings: {\n        fetch(url, opts) {\n          opts.credentials = 'include'\n          return fetch(url, opts)\n        },\n      },\n    })\n  } catch (error) {\n    if (error.message.includes('already exists')) {\n      console.log('user db already exists')\n      return\n    } else {\n      throw error\n    }\n  }\n  authState.addDb({ name: userDbName, db: userDb })\n  const isAlreadyBeingSynced = !!syncs && !!syncs[userDbName]\n  //console.log('createAndSyncUserCollections', { dbs })\n  let sync\n  if (!isAlreadyBeingSynced) {\n    sync = userDb.user.sync({\n      remote: `${couchBaseUrl()}/${userDbName}/`,\n      options: {\n        live: true,\n        retry: true,\n      },\n      query: userDb.user\n        .find()\n        .where('type')\n        .eq('user'),\n    })\n  }\n  authState.addSync({ name: 'user', sync })\n  sync.docs$.subscribe(docData =>\n    provideProjectDbs({ projects: docData.projects, authState }),\n  )\n  console.log('createAndSyncUserCollection', { dbs, userDb, userDbName, sync })\n  return\n}\n","import { Container } from 'unstated'\n\nimport userDbNameFromUserEmail from '../utils/userDbNameFromUserEmail'\n\n/**\n * somehow gatsby manages to sometimes (not always)\n * drag this file through node which makes\n * pouchdb-browser complain fetch is missing\n * using pouchdb is no solution because that complains\n * to miss many bindings\n */\nimport 'isomorphic-fetch'\nimport PouchDB from 'pouchdb-browser'\nimport pouchdbAuthentication from 'pouchdb-authentication'\nimport get from 'lodash/get'\n\nimport createMessageDb from '../utils/createMessageDb'\nimport couchUrl from '../utils/couchUrl'\nimport createAndSyncUserCollection from '../utils/createAndSyncUserCollection'\nimport provideProjectDbs from '../utils/provideProjectDbs'\n\nPouchDB.plugin(pouchdbAuthentication)\n\nexport default class AuthContainer extends Container {\n  constructor() {\n    super()\n    const authDb = new PouchDB(couchUrl())\n    const dbs = typeof window === 'undefined' ? null : window.dbs || null\n    this.state = {\n      authDb,\n      email: null,\n      signupOpen: false,\n      loginOpen: false,\n      dbs,\n      syncs: {},\n    }\n\n    authDb\n      .getSession()\n      .then(resp => {\n        const email = get(resp, 'userCtx.name', null)\n        if (email) {\n          this.setState({ email })\n          createAndSyncUserCollection({ email, authState: this })\n          // create initial dbs state\n          if (\n            (typeof window !== 'undefined' && !window.dbs) ||\n            typeof window === 'undefined'\n          ) {\n            createMessageDb(this).catch(error => {\n              throw error\n            })\n          }\n        }\n      })\n      .catch(error => {\n        throw error\n      })\n  }\n\n  setAuthDb = authDb => {\n    this.setState({ authDb })\n  }\n\n  setEmail = email => {\n    this.setState({ email })\n  }\n\n  setSignupOpen = signupOpen => {\n    this.setState({ signupOpen })\n  }\n\n  setLoginOpen = loginOpen => {\n    this.setState({ loginOpen })\n  }\n\n  signUp = async ({ email, password }) => {\n    // first logout\n    try {\n      await this.logOut()\n    } catch (error) {\n      console.log('Auth, signUp: Error logging out:', error)\n    }\n\n    try {\n      await this.state.authDb.signUp(email, password)\n    } catch (error) {\n      console.log('Signup: error logging in:', error)\n    }\n    this.setSignupOpen(false)\n    // log in\n    try {\n      await this.logIn({ email, password })\n    } catch (error) {\n      throw error\n    }\n  }\n\n  logIn = async ({ email, password }) => {\n    // first logout\n    // ignore error that occurs if user was not logged in\n    await this.logOut()\n\n    let logInResponce\n    try {\n      logInResponce = await this.state.authDb.logIn(email, password)\n    } catch (error) {\n      if (error.name === 'unauthorized' || error.name === 'forbidden') {\n        // name or password incorrect\n        throw new Error('Name oder Passwort stimmt nicht')\n      } else {\n        // cosmic rays, a meteor, etc.\n        throw error\n      }\n    }\n    //console.log('Auth, logIn: logInResponce logging in:', logInResponce)\n    this.setState({\n      email: logInResponce.name,\n      loginOpen: false,\n      authDb: new PouchDB(couchUrl()),\n    })\n    await createAndSyncUserCollection({ email, authState: this })\n    await createMessageDb(this).catch(error => {\n      throw error\n    })\n    // TODO:\n    // grab list of projects from user collection\n    // create project db's\n    const userDbName = userDbNameFromUserEmail(email)\n    const userDb = this.state.dbs[userDbName]\n    const userCollection = userDb.user\n    const userDocs = await userCollection.find().exec()\n    if (userDocs && userDocs[0]) {\n      console.log('logIn', {\n        userDbName,\n        userDb,\n        userCollection,\n        userDoc: userDocs[0],\n      })\n      provideProjectDbs({ projects: userDocs[0].projects, authState: this })\n    }\n  }\n\n  logOut = async () => {\n    try {\n      await this.state.authDb.logOut()\n    } catch (error) {\n      throw error\n    }\n    const { dbs, syncs } = this.state\n    // dbs can be null if user was not logged in\n    if (!dbs) return\n    // remove all dbs\n    Object.values(dbs).forEach(db => db.remove())\n    // stop all syncing\n    Object.values(syncs).forEach(sync => sync.cancel())\n    this.setState({\n      email: null,\n      loginOpen: false,\n      dbs: null,\n      syncs: {},\n    })\n    return\n  }\n\n  setDbs = dbs => {\n    this.setState({ dbs })\n  }\n\n  addDb = ({ name, db }) => {\n    //console.log('Auth, addDb', { name, db, dbs: this.state.dbs })\n    this.setState(state => {\n      console.log('Auth, addDb', { dbs: state.dbs })\n      const newDbs = {\n        ...state.dbs,\n        [name]: db,\n      }\n      console.log('Auth, addDb', { newDbs })\n      window.dbs = newDbs\n      return {\n        dbs: newDbs,\n      }\n    })\n  }\n\n  setSyncs = syncs => {\n    this.setState({ syncs })\n  }\n\n  addSync = ({ name, sync }) => {\n    this.setState(state => {\n      const newSyncs = {\n        ...state.syncs,\n        [name]: sync,\n      }\n      return {\n        dbs: state.dbs,\n        syncs: newSyncs,\n      }\n    })\n  }\n}\n","/**\n * inspired from:\n * https://www.reddit.com/r/reactjs/comments/8t3di7/how_do_you_access_your_store_in_lifecycle/\n * example: https://github.com/jaredpalmer/react-fns/blob/052ea56092c53946c7937e1d32adf78a7d37d6f3/src/GeoPosition/withGeoPosition.tsx\n */\nimport React from 'react'\nimport { Subscribe } from 'unstated'\n\nimport AuthState from './Auth'\n\nexport default WrappedComponent => props => (\n  <Subscribe to={[AuthState]}>\n    {value => <WrappedComponent authState={value} {...props} />}\n  </Subscribe>\n)\n","// @flow\nimport React, { useState, useCallback } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport IconButton from '@material-ui/core/IconButton'\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md'\nimport Button from '@material-ui/core/Button'\nimport styled from 'styled-components'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport ErrorBoundary from '../ErrorBoundary'\nimport withAuthState from '../../state/withAuth'\n\nconst StyledDialog = styled(Dialog)``\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 24px;\n`\nconst StyledTextField = styled(TextField)`\n  div:before {\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\n  }\n`\nconst StyledInput = styled(Input)`\n  &:before {\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\n  }\n`\n\nconst Signup = ({ authState }) => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [showPass, setShowPass] = useState(false)\n  // eslint-disable-next-line no-unused-vars\n  const [emailErrorText, setEmailErrorText] = useState('')\n  // eslint-disable-next-line no-unused-vars\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const close = useCallback(() => authState.setSignupOpen(false), [])\n  const onClickSignup = useCallback(\n    async () => {\n      try {\n        await authState.signUp({ email, password })\n      } catch (error) {\n        console.log('Signup: error logging in:', error)\n      }\n    },\n    [email, password],\n  )\n  const onToggleShowPass = useCallback(\n    () => {\n      setShowPass(!showPass)\n    },\n    [showPass],\n  )\n  const onBlurEmail = useCallback(event => setEmail(event.target.value), [])\n  const onBlurPassword = useCallback(\n    event => setPassword(event.target.value),\n    [],\n  )\n\n  return (\n    <ErrorBoundary>\n      <StyledDialog\n        aria-labelledby=\"dialog-title\"\n        open={authState.state.signupOpen}\n      >\n        <DialogTitle id=\"dialog-title\">Neues Konto</DialogTitle>\n        <StyledDiv>\n          <StyledTextField\n            label=\"Email\"\n            defaultValue={email}\n            onBlur={onBlurEmail}\n            autoFocus\n            fullWidth\n            helperText={emailErrorText}\n          />\n          <FormControl\n            error={!!passwordErrorText}\n            fullWidth\n            aria-describedby=\"signupPasswortHelper\"\n          >\n            <InputLabel htmlFor=\"signupPasswort\">Passwort</InputLabel>\n            <StyledInput\n              id=\"signupPasswort\"\n              type={showPass ? 'text' : 'password'}\n              defaultValue={password}\n              onBlur={onBlurPassword}\n              onKeyPress={e => {\n                if (e.key === 'Enter') {\n                  onBlurPassword()\n                }\n              }}\n              autoComplete=\"current-password\"\n              autoCorrect=\"off\"\n              spellCheck=\"false\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    onClick={onToggleShowPass}\n                    onMouseDown={e => e.preventDefault()}\n                    title={showPass ? 'verstecken' : 'anzeigen'}\n                  >\n                    {showPass ? <MdVisibilityOff /> : <MdVisibility />}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n            <FormHelperText id=\"signupPasswortHelper\">\n              {passwordErrorText}\n            </FormHelperText>\n          </FormControl>\n        </StyledDiv>\n        <DialogActions>\n          <Button onClick={close}>abbrechen</Button>\n          <Button color=\"primary\" onClick={onClickSignup}>\n            Konto erstellen\n          </Button>\n        </DialogActions>\n      </StyledDialog>\n    </ErrorBoundary>\n  )\n}\n\nexport default withAuthState(Signup)\n","// @flow\nimport React, { useState, useCallback } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport IconButton from '@material-ui/core/IconButton'\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md'\nimport Button from '@material-ui/core/Button'\nimport styled from 'styled-components'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport ErrorBoundary from '../ErrorBoundary'\nimport withAuthState from '../../state/withAuth'\n\nconst StyledDialog = styled(Dialog)``\nconst StyledDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 24px;\n`\nconst StyledTextField = styled(TextField)`\n  div:before {\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\n  }\n`\nconst StyledInput = styled(Input)`\n  &:before {\n    border-bottom-color: rgba(0, 0, 0, 0.1) !important;\n  }\n`\n\nconst Login = ({ authState }) => {\n  const { setLoginOpen, setSignupOpen, logIn } = authState\n  const { loginOpen } = authState.state\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [showPass, setShowPass] = useState(false)\n  const [emailErrorText, setEmailErrorText] = useState('')\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const close = useCallback(() => setLoginOpen(false), [])\n  const onClickSignup = useCallback(() => {\n    setLoginOpen(false)\n    setSignupOpen(true)\n  }, [])\n  const onClickLogin = useCallback(\n    async () => {\n      try {\n        await logIn({ email, password })\n      } catch (error) {\n        console.log('Error logging in:', error)\n        setEmailErrorText(error.message)\n        setPasswordErrorText(error.message)\n      }\n    },\n    [email, password],\n  )\n  const onToggleShowPass = useCallback(() => setShowPass(!showPass), [showPass])\n  const onChangeEmail = useCallback(event => {\n    setEmail(event.target.value)\n  }, [])\n  const onChangePassword = useCallback(\n    event => setPassword(event.target.value),\n    [],\n  )\n\n  return (\n    <ErrorBoundary>\n      <StyledDialog aria-labelledby=\"login-dialog-title\" open={loginOpen}>\n        <DialogTitle id=\"login-dialog-title\">Anmeldung</DialogTitle>\n        <StyledDiv>\n          <StyledTextField\n            label=\"Email\"\n            value={email}\n            onChange={onChangeEmail}\n            autoFocus\n            fullWidth\n            helperText={emailErrorText}\n          />\n          <FormControl error={!!passwordErrorText} fullWidth>\n            <InputLabel htmlFor=\"loginPasswort\">Passwort</InputLabel>\n            <StyledInput\n              id=\"loginPasswort\"\n              type={showPass ? 'text' : 'password'}\n              value={password}\n              onChange={onChangePassword}\n              autoComplete=\"current-password\"\n              autoCorrect=\"off\"\n              spellCheck=\"false\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    onClick={onToggleShowPass}\n                    onMouseDown={e => e.preventDefault()}\n                    title={showPass ? 'verstecken' : 'anzeigen'}\n                  >\n                    {showPass ? <MdVisibilityOff /> : <MdVisibility />}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n            <FormHelperText>{passwordErrorText}</FormHelperText>\n          </FormControl>\n        </StyledDiv>\n        <DialogActions>\n          <Button onClick={close}>abbrechen</Button>\n          <Button color=\"primary\" onClick={onClickLogin}>\n            Anmelden\n          </Button>\n          <Button onClick={onClickSignup}>Neues Konto</Button>\n        </DialogActions>\n      </StyledDialog>\n    </ErrorBoundary>\n  )\n}\n\nexport default withAuthState(Login)\n","import React, { useState, useCallback } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\nimport { FaUserCircle as UserIcon } from 'react-icons/fa'\nimport styled from 'styled-components'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport Signup from './Signup'\nimport Login from './Login'\nimport ErrorBoundary from '../ErrorBoundary'\nimport withAuthState from '../../state/withAuth'\n\nconst IconContainer = styled.div`\n  position: relative;\n  padding-left: 10px;\n`\nconst UserNameDiv = styled.div`\n  position: absolute;\n  bottom: 0;\n  font-size: 10px;\n  width: 60px;\n  left: 5px;\n  text-align: center;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  /* ensure cursor is not changed */\n  z-index: -1;\n`\n\nconst Account = ({ authState }) => {\n  const { email, signupOpen, loginOpen } = authState.state\n  const [anchorEl, setAnchorEl] = useState(null)\n  const onClickMenu = useCallback(event => setAnchorEl(event.currentTarget), [])\n  const onCloseMenu = useCallback(() => setAnchorEl(null), [])\n  const onClickSignup = useCallback(() => {\n    setAnchorEl(null)\n    authState.setSignupOpen(!signupOpen)\n  }, [])\n  const onClickLogin = useCallback(() => {\n    setAnchorEl(null)\n    authState.setLoginOpen(!loginOpen)\n  }, [])\n  const onClickLogout = useCallback(() => {\n    setAnchorEl(null)\n    authState.logOut()\n  }, [])\n\n  return (\n    <ErrorBoundary>\n      <>\n        <IconContainer>\n          <IconButton\n            aria-haspopup=\"true\"\n            aria-label=\"Konto\"\n            onClick={onClickMenu}\n            color=\"inherit\"\n            title=\"Konto\"\n          >\n            <UserIcon />\n          </IconButton>\n          <UserNameDiv>{email || ''}</UserNameDiv>\n        </IconContainer>\n        <Menu\n          id=\"menu-appbar\"\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          open={!!anchorEl}\n          onClose={onCloseMenu}\n        >\n          {!email && <MenuItem onClick={onClickLogin}>Anmelden</MenuItem>}\n          {email && <MenuItem onClick={onClickLogout}>Abmelden</MenuItem>}\n          <MenuItem onClick={onClickSignup}>Konto erstellen</MenuItem>\n        </Menu>\n        {signupOpen && <Signup />}\n        {loginOpen && <Login />}\n      </>\n    </ErrorBoundary>\n  )\n}\n\nexport default withAuthState(Account)\n","import React, { useCallback } from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport styled from 'styled-components'\nimport { Link, navigate } from 'gatsby'\nimport { Location } from '@reach/router'\n\nimport { setConfig } from 'react-hot-loader'\nsetConfig({ pureSFC: true })\n\nimport Account from './Account'\nimport ErrorBoundary from '../ErrorBoundary'\n\nconst SiteTitle = styled(Typography)`\n  display: none;\n  cursor: pointer;\n  @media (min-width: 700px) {\n    display: block;\n  }\n`\nconst Spacer = styled.div`\n  flex-grow: 1;\n`\n\nconst NavButton = styled(Button)`\n  color: white !important;\n  border: ${props => (props.active ? '1px white' : 'unset')};\n  border-color: rgba(255, 255, 255, 0.5) !important;\n  font-weight: ${props => (props.active ? '700' : '600')};\n`\n\nconst Header = () => {\n  const onClickSiteTitle = useCallback(() => navigate('/'))\n\n  return (\n    <Location>\n      {({ location }) => {\n        const { pathname } = location\n\n        return (\n          <ErrorBoundary>\n            <AppBar position=\"fixed\">\n              <Toolbar>\n                <SiteTitle\n                  variant=\"h6\"\n                  color=\"inherit\"\n                  noWrap\n                  title=\"Home\"\n                  onClick={onClickSiteTitle}\n                >\n                  erfassen.ch\n                </SiteTitle>\n                <Spacer />\n                <NavButton\n                  variant={pathname === '/' ? 'outlined' : 'text'}\n                  component={Link}\n                  to=\"/\"\n                  active={(pathname === '/').toString()}\n                >\n                  Home\n                </NavButton>\n                <NavButton\n                  variant={pathname === '/Projekte/' ? 'outlined' : 'text'}\n                  component={Link}\n                  to=\"/Projekte/\"\n                  active={(pathname === '/Projekte/').toString()}\n                >\n                  Projekte\n                </NavButton>\n                <Account />\n              </Toolbar>\n            </AppBar>\n          </ErrorBoundary>\n        )\n      }}\n    </Location>\n  )\n}\n\nexport default Header\n","/**\n * Cant move Helmet to App\n * because neither StaticQuery nor AppQuery\n * work there :-(\n */\nimport React from 'react'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './Header'\n\nconst query = graphql`\n  query SiteTitleQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={query}\n    render={data => (\n      <>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            { name: 'description', content: 'Sample' },\n            { name: 'keywords', content: 'sample, something' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        <Header />\n        {children}\n      </>\n    )}\n  />\n)\n\nexport default Layout\n","// in development should return local path\nexport default () => {\n  if (typeof window === 'undefined') {\n    return 'https://erfassen.ch:5984'\n  }\n  const hostnameWithoutWww = window.location.hostname.replace('www.', '')\n  const isLocalhost = hostnameWithoutWww === 'localhost'\n  const hostname = isLocalhost ? 'localhost' : window.location.hostname\n  const couchUrl = isLocalhost\n    ? `http://${hostname}:5984`\n    : `https://erfassen.ch:5984`\n\n  return couchUrl\n}\n","module.exports = email =>\n  'user_' +\n  email\n    .toLowerCase()\n    .replace('@', '_at_')\n    .replace('.', '_p_')\n","export default ({ creatorName, projectName }) => {\n  const projectDbName =\n    'project_' +\n    creatorName\n      .toLowerCase()\n      .replace('@', '_at_')\n      .replace('.', '_p_') +\n    '_' +\n    projectName\n  if (!/^[a-z][a-z0-9_$()+/-]*$/.test(projectDbName)) {\n    return console.log('Name is not valid db name')\n  }\n  return projectDbName\n}\n","import rxdb from 'rxdb'\nimport pouchdbAdapterHttp from 'pouchdb-adapter-http'\nimport pouchdbAdapterIdb from 'pouchdb-adapter-idb'\n\nrxdb.plugin(pouchdbAdapterHttp)\nrxdb.plugin(pouchdbAdapterIdb)\n\nimport getProjectDbName from './getProjectDbName'\nimport projectDefSchema from '../schemas/projectDef.json'\nimport couchBaseUrl from './couchBaseUrl'\n\nexport default async ({ projectName, authState }) => {\n  const { dbs, email: creatorName } = authState.state\n  const projectDbName = getProjectDbName({\n    creatorName,\n    projectName,\n  })\n  // check if this dbname already exists\n  const dbNames = Object.keys(dbs)\n  if (dbNames.includes(projectDbName)) {\n    throw new Error('Dieser Name wird schon benutzt')\n  }\n\n  try {\n    await dbs.messages.projectdef.insert({\n      projectName,\n      creatorName,\n      type: 'projectDef',\n    })\n  } catch (error) {\n    throw error\n  }\n\n  let projectDb\n  try {\n    projectDb = await rxdb.create({\n      name: projectDbName,\n      adapter: 'idb',\n    })\n  } catch (error) {\n    throw error\n  }\n  const projectDefCollection = await projectDb.collection({\n    name: 'projectdef',\n    schema: projectDefSchema,\n    // force pouch to always include credentials\n    // see: https://github.com/pouchdb-community/pouchdb-authentication/issues/239#issuecomment-410489376\n    pouchSettings: {\n      fetch(url, opts) {\n        opts.credentials = 'include'\n        return fetch(url, opts)\n      },\n    },\n  })\n  authState.addDb({ name: projectDbName, db: projectDb })\n  const projectdefSync = await projectDefCollection.sync({\n    remote: `${couchBaseUrl()}/${projectDbName}/`,\n    options: {\n      live: true,\n      retry: true,\n    },\n    query: projectDb.projectdef\n      .find()\n      .where('type')\n      .eq('projectDef'),\n  })\n  //projectdefSync.error$.subscribe(error => console.dir(error))\n  //projectdefSync.change$.subscribe(change => console.dir(change))\n  //projectdefSync.docs$.subscribe(docData => console.dir(docData))\n  //projectdefSync.denied$.subscribe(docData => console.dir(docData))\n\n  authState.addSync({\n    name: `${projectDbName}ProjectDef`,\n    sync: projectdefSync,\n  })\n\n  console.log('NewProject', { projectDefCollection })\n  // insert project def into project db\n  try {\n    await projectDefCollection.insert({\n      _id: 'projectDef',\n      projectName,\n      creatorName,\n      type: 'projectDef',\n    })\n  } catch (error) {\n    throw error\n  }\n  console.log('finished creating new project')\n}\n"],"sourceRoot":""}